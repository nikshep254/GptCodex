<style>
:root{
  --sf:'DM Sans',-apple-system,BlinkMacSystemFont,'Helvetica Neue',sans-serif;
  --bg:#f5f5f7;--surface:#fff;--s2:rgba(246,246,248,.92);--s3:rgba(0,0,0,.04);
  --b:rgba(0,0,0,.08);--bs:rgba(0,0,0,.14);
  --t1:#0f0f0f;--t2:#606060;--t3:#b0b0b0;
  --acc:#0071e3;--ach:#0077ed;--acl:rgba(0,113,227,.10);
  --red:#ff3b30;--grn:#34c759;--org:#ff9500;--pur:#bf5af2;--yel:#ffc107;
  --sh:0 1px 3px rgba(0,0,0,.08);--shm:0 4px 16px rgba(0,0,0,.1);
  --shl:0 12px 40px rgba(0,0,0,.12);--shx:0 24px 60px rgba(0,0,0,.18);
  --tp:linear-gradient(135deg,#e8e8ed,#d1d1d6);
  --tog:#e5e5ea;
}
[data-theme="dark"]{
  --bg:#0f0f0f;--surface:#1a1a1a;--s2:rgba(26,26,26,.92);--s3:rgba(255,255,255,.06);
  --b:rgba(255,255,255,.09);--bs:rgba(255,255,255,.15);
  --t1:#f1f1f1;--t2:#aaa;--t3:#555;
  --acc:#2997ff;--ach:#3aa0ff;--acl:rgba(41,151,255,.14);
  --red:#ff453a;--grn:#32d74b;--org:#ff9f0a;--pur:#da8fff;--yel:#ffd60a;
  --sh:0 1px 3px rgba(0,0,0,.4);--shm:0 4px 20px rgba(0,0,0,.5);
  --shl:0 12px 40px rgba(0,0,0,.6);--shx:0 24px 60px rgba(0,0,0,.7);
  --tp:linear-gradient(135deg,#2a2a2a,#1a1a1a);
  --tog:#2997ff;
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
html,body{height:100%;overflow-x:hidden;}
body{font-family:var(--sf);-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;background:var(--bg);color:var(--t1);transition:background .35s,color .35s;}
::-webkit-scrollbar{width:4px;}::-webkit-scrollbar-track{background:transparent;}::-webkit-scrollbar-thumb{background:rgba(128,128,128,.3);border-radius:99px;}

/* ── PAGES ── */
.page{display:none;height:100vh;flex-direction:column;overflow:hidden;}
.page.active{display:flex;}
#pg-landing{background:#000;color:#fff;overflow-y:auto;height:100vh;display:none;}
#pg-landing.active{display:block;}

/* ── DEAD BLACK BG layers (hidden) ── */
.lp-bg,.lp-silver,.lp-mesh,.lp-wave2,.lp-shimmer,.lp-noise{display:none;}

/* ══ DYNAMIC ISLAND HEADER ══ */
.lp-island-wrap{position:fixed;top:16px;left:0;right:0;z-index:2000;display:flex;justify-content:center;pointer-events:none;}
.lp-island{display:flex;align-items:center;gap:8px;padding:0 20px;height:52px;
  background:rgba(18,18,18,.82);backdrop-filter:blur(28px) saturate(180%);-webkit-backdrop-filter:blur(28px) saturate(180%);
  border:1px solid rgba(255,255,255,.1);border-radius:99px;
  box-shadow:0 8px 40px rgba(0,0,0,.6),inset 0 1px 0 rgba(255,255,255,.08);
  pointer-events:all;transition:all .3s cubic-bezier(.34,1.56,.64,1);
  min-width:360px;max-width:680px;width:calc(100vw - 80px);}
.lp-island:hover{background:rgba(22,22,22,.9);}
.li-logo{display:flex;align-items:center;gap:8px;text-decoration:none;flex-shrink:0;}
.li-logomark{font-size:18px;line-height:1;}
.li-logotext{font-size:15px;font-weight:800;letter-spacing:-.5px;color:#fff;}
.li-sep{width:1px;height:18px;background:rgba(255,255,255,.12);margin:0 4px;}
.li-spacer{flex:1;}
.li-btn{display:flex;align-items:center;gap:6px;padding:7px 14px;background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.1);border-radius:99px;font-family:var(--sf);font-size:12.5px;font-weight:600;color:rgba(255,255,255,.8);cursor:pointer;transition:all .15s;white-space:nowrap;border:none;}
.li-btn:hover{background:rgba(255,255,255,.14);color:#fff;}
.li-signin{background:#fff !important;color:#000 !important;border:none;border-radius:99px;padding:7px 16px;font-family:var(--sf);font-size:12.5px;font-weight:800;cursor:pointer;transition:all .18s;flex-shrink:0;}
.li-signin:hover{background:#e8e8ed !important;transform:scale(1.04);}
.li-theme{width:32px;height:32px;border-radius:50%;background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.1);font-size:14px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .15s;color:#fff;flex-shrink:0;}
.li-theme:hover{background:rgba(255,255,255,.14);}


/* ── ONB WHY GRID ── */
.onb-why-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:24px;}
.onb-why-item{display:flex;align-items:flex-start;gap:10px;padding:12px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.07);border-radius:12px;}
.onb-why-icon{font-size:18px;flex-shrink:0;line-height:1;margin-top:1px;}
.onb-why-title{font-size:12px;font-weight:700;color:#fff;margin-bottom:3px;}
.onb-why-desc{font-size:11px;color:rgba(255,255,255,.45);line-height:1.5;}
.onb-note{text-align:center;font-size:11px;color:rgba(255,255,255,.28);margin-top:12px;font-weight:500;}

/* ── NOTE FROM CREATOR CARD ── */
.lp-note-section{position:relative;z-index:10;padding:20px 40px 80px;display:flex;flex-direction:column;align-items:center;}
.note-card{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.1);border-radius:24px;width:100%;max-width:960px;overflow:hidden;display:grid;grid-template-columns:280px 1fr;align-items:stretch;}
.note-left{background:linear-gradient(160deg,#0d1a0d,#0f3d1e);padding:44px 40px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;border-right:1px solid rgba(255,255,255,.07);}
.note-icon{font-size:52px;line-height:1;}
.note-label{font-size:11px;font-weight:800;letter-spacing:.12em;text-transform:uppercase;color:rgba(255,255,255,.4);text-align:center;}
.note-tag{display:inline-block;padding:5px 14px;border-radius:99px;background:rgba(50,215,75,.12);border:1px solid rgba(50,215,75,.2);color:#30d158;font-size:11px;font-weight:700;letter-spacing:.06em;text-transform:uppercase;}
.note-right{padding:44px 48px;}
.note-title{font-size:22px;font-weight:900;color:#fff;letter-spacing:-.5px;margin-bottom:20px;line-height:1.2;}
.note-body{font-size:15px;color:rgba(255,255,255,.6);line-height:1.8;}
.note-body p{margin-bottom:16px;}
.note-body strong{color:#fff;font-weight:700;}
.note-sig{margin-top:24px;display:flex;align-items:center;gap:12px;padding-top:20px;border-top:1px solid rgba(255,255,255,.07);}
.note-sig-avatar{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#3b7eff,#a78bfa);display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0;}
.note-sig-name{font-size:13px;font-weight:800;color:#fff;}
.note-sig-role{font-size:11px;color:rgba(255,255,255,.35);margin-top:1px;}

/* ── COMPARISON TABLE ── */
.lp-compare{position:relative;z-index:10;padding:40px 40px 80px;max-width:900px;margin:0 auto;width:100%;}
.compare-table{width:100%;border-collapse:separate;border-spacing:0;border-radius:16px;overflow:hidden;border:1px solid rgba(255,255,255,.08);}
.compare-table th{padding:16px 20px;font-size:12px;font-weight:800;letter-spacing:.06em;text-transform:uppercase;color:rgba(255,255,255,.5);background:rgba(255,255,255,.03);text-align:left;}
.compare-table th:first-child{width:40%;}
.compare-table th.highlight{color:#fff;background:rgba(59,126,255,.15);}
.compare-table td{padding:14px 20px;font-size:13.5px;border-top:1px solid rgba(255,255,255,.06);}
.compare-table td:first-child{color:rgba(255,255,255,.6);font-weight:500;}
.compare-table td.no{color:rgba(255,255,255,.2);}
.compare-table td.yes{color:#30d158;font-weight:700;}
.compare-table td.highlight{background:rgba(59,126,255,.06);}
.compare-table tr:hover td{background:rgba(255,255,255,.02);}

/* ── MANIFESTO ── */
.lp-manifesto{position:relative;z-index:10;padding:40px 40px 80px;max-width:760px;margin:0 auto;width:100%;text-align:center;}
.manifesto-body{font-size:clamp(18px,2.5vw,26px);line-height:1.65;color:rgba(255,255,255,.55);font-weight:500;letter-spacing:-.3px;}
.manifesto-body strong{color:#fff;}

/* ── RESET DEMO BUTTON (app) ── */
.btn-reset-demo{display:flex;align-items:center;gap:5px;padding:6px 12px;background:rgba(255,149,0,.12);border:1px solid rgba(255,149,0,.25);border-radius:8px;cursor:pointer;font-family:var(--sf);font-size:12px;font-weight:600;color:#ff9f0a;transition:all .15s;}
.btn-reset-demo:hover{background:rgba(255,149,0,.2);}

/* ── PRICING MODAL override ── */
.pricing-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin:20px 0;}
.pricing-card{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);border-radius:14px;padding:20px;}
.pricing-card.free{border-color:rgba(50,215,75,.3);background:rgba(50,215,75,.06);}
.pricing-label{font-size:10px;font-weight:800;letter-spacing:.1em;text-transform:uppercase;color:rgba(255,255,255,.4);margin-bottom:6px;}
.pricing-price{font-size:32px;font-weight:900;color:#fff;letter-spacing:-1.5px;line-height:1;margin-bottom:4px;}
.pricing-card.free .pricing-price{color:#30d158;}
.pricing-desc{font-size:12px;color:rgba(255,255,255,.45);line-height:1.5;}
.pricing-why{margin-top:20px;padding:16px;background:rgba(255,255,255,.04);border-radius:12px;font-size:13.5px;color:rgba(255,255,255,.65);line-height:1.7;}

/* builder popup */
.lp-bento-ov{position:fixed;inset:0;z-index:1999;display:none;pointer-events:none;}
.lp-bento-ov.active{display:block;pointer-events:all;}
.lp-bento-card{position:fixed;top:80px;right:40px;width:300px;background:rgba(16,16,16,.97);border:1px solid rgba(255,255,255,.14);border-radius:20px;overflow:hidden;box-shadow:0 24px 64px rgba(0,0,0,.9);animation:slideDown .2s ease;}
.lp-bento-ban{height:72px;background:linear-gradient(135deg,#1a1a2e,#0f3460);position:relative;display:flex;align-items:flex-end;padding:0 20px;}
.lp-bento-av{width:46px;height:46px;border-radius:50%;background:linear-gradient(135deg,#3b7eff,#a78bfa);display:flex;align-items:center;justify-content:center;font-size:22px;border:2px solid rgba(255,255,255,.15);transform:translateY(50%);position:relative;z-index:1;}
.lp-bento-info{padding:34px 20px 20px;}
.lp-bento-name{font-size:15px;font-weight:800;color:#fff;letter-spacing:-.4px;margin-bottom:3px;}
.lp-bento-role{font-size:11px;color:rgba(255,255,255,.35);font-weight:700;letter-spacing:.06em;text-transform:uppercase;margin-bottom:16px;}
.lp-bento-links{display:flex;flex-direction:column;gap:7px;}
.lp-bento-link{display:flex;align-items:center;gap:10px;padding:9px 13px;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.07);border-radius:10px;text-decoration:none;color:rgba(255,255,255,.72);font-size:12.5px;font-weight:600;transition:all .13s;}
.lp-bento-link:hover{background:rgba(255,255,255,.1);color:#fff;}


/* ── INFO MODAL ── */
.info-modal-ov{position:fixed;inset:0;background:rgba(0,0,0,.8);backdrop-filter:blur(20px);z-index:9000;display:none;align-items:center;justify-content:center;padding:24px;}
.info-modal-ov.active{display:flex;}
.info-modal{background:#111;border:1px solid rgba(255,255,255,.14);border-radius:24px;padding:40px;width:100%;max-width:560px;position:relative;animation:mdIn .3s cubic-bezier(.34,1.56,.64,1);max-height:80vh;overflow-y:auto;}
.info-modal-close{position:absolute;top:16px;right:16px;width:28px;height:28px;border-radius:50%;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.1);color:rgba(255,255,255,.5);font-size:13px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .15s;}
.info-modal-close:hover{background:rgba(255,255,255,.14);color:#fff;}
.info-modal-icon{font-size:36px;margin-bottom:16px;line-height:1;}
.info-modal-title{font-size:24px;font-weight:900;color:#fff;letter-spacing:-.6px;margin-bottom:20px;}
.info-modal-body{font-size:14px;color:rgba(255,255,255,.65);line-height:1.75;}
.info-modal-body h3{font-size:14px;font-weight:700;color:#fff;margin:20px 0 8px;letter-spacing:-.2px;}
.info-modal-body p{margin-bottom:12px;}
.info-modal-body a{color:#7b8fef;text-decoration:none;}
.info-modal-body a:hover{text-decoration:underline;}

/* ── AUTH OVERLAY ── */
#auth-overlay{position:fixed;inset:0;background:rgba(0,0,0,.92);backdrop-filter:blur(20px);z-index:9999;display:none;flex-direction:column;align-items:center;justify-content:center;gap:18px;}
#auth-overlay.show{display:flex;}
.auth-spinner{width:36px;height:36px;border:3px solid rgba(255,255,255,.15);border-top-color:#fff;border-radius:50%;animation:spin .7s linear infinite;}
@keyframes spin{to{transform:rotate(360deg);}}
.auth-msg{font-size:15px;color:rgba(255,255,255,.7);font-weight:500;}

/* ── HERO — pitch black, typewriter ── */
.lp-hero{position:relative;z-index:10;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:0 40px;text-align:center;}
.tw-eyebrow{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.2em;color:rgba(255,255,255,.3);margin-bottom:24px;animation:fadeUp .8s ease both;}
.tw-title{font-size:clamp(56px,10vw,140px);font-weight:900;letter-spacing:-4px;line-height:.9;margin-bottom:0;min-height:1.1em;font-family:'DM Sans',sans-serif;background:linear-gradient(135deg,#fff 0%,#c8d0e8 40%,#fff 60%,#a8b4cc 100%);background-size:300% auto;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:silverShimmer 4s linear infinite;}
@keyframes silverShimmer{0%{background-position:0% center;}100%{background-position:300% center;}}
.tw-cursor{display:inline-block;width:4px;height:.82em;background:linear-gradient(180deg,#fff,#c8d0e8);margin-left:6px;animation:blinkCursor .65s step-end infinite;vertical-align:middle;border-radius:2px;}
@keyframes blinkCursor{0%,100%{opacity:1;}50%{opacity:0;}}
.lp-hero-sub{font-size:18px;color:rgba(255,255,255,.38);margin-top:28px;font-weight:500;letter-spacing:-.2px;}

/* scroll indicator */
.scroll-ind{position:absolute;bottom:40px;left:50%;transform:translateX(-50%);display:flex;flex-direction:column;align-items:center;gap:10px;color:rgba(255,255,255,.22);font-size:9.5px;font-weight:700;letter-spacing:.14em;text-transform:uppercase;animation:scrollB 2.2s ease-in-out infinite;cursor:pointer;transition:color .2s;}
.scroll-ind:hover{color:rgba(255,255,255,.5);}
.sd{width:22px;height:36px;border:1.5px solid rgba(255,255,255,.16);border-radius:12px;position:relative;}
.sd::after{content:'';position:absolute;width:3px;height:6px;background:rgba(255,255,255,.4);border-radius:99px;top:6px;left:50%;transform:translateX(-50%);animation:scrollDot 2.2s ease-in-out infinite;}

/* ── CTA SECTION ── */
.lp-cta-section{position:relative;z-index:10;text-align:center;padding:0 40px 100px;}
.lp-cta-btn{display:inline-flex;align-items:center;gap:12px;padding:18px 44px;background:#fff;border:none;border-radius:16px;font-family:'DM Sans',sans-serif;font-size:18px;font-weight:800;color:#0a0a0a;cursor:pointer;transition:transform .2s cubic-bezier(.34,1.56,.64,1),box-shadow .2s;box-shadow:0 4px 32px rgba(255,255,255,.15);}
.lp-cta-btn:hover{transform:scale(1.05);box-shadow:0 10px 48px rgba(255,255,255,.25);}
.lp-cta-sub{margin-top:14px;font-size:13px;color:rgba(255,255,255,.25);font-weight:500;}

/* ── FEATURES SECTION ── */
.lp-about{position:relative;z-index:10;padding:80px 40px 60px;max-width:1100px;margin:0 auto;width:100%;}
.lp-section-label{font-size:10.5px;font-weight:800;letter-spacing:.18em;text-transform:uppercase;color:rgba(255,255,255,.7);margin-bottom:14px;}
.lp-section-title{font-size:clamp(34px,4.5vw,54px);font-weight:900;letter-spacing:-2px;line-height:1.0;color:#fff;margin-bottom:14px;}
.lp-section-sub{font-size:16px;color:rgba(255,255,255,.38);max-width:480px;line-height:1.65;margin-bottom:56px;font-weight:400;}

/* bento grid */
.bento-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;}
.bento-cell{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);border-radius:20px;padding:26px;transition:background .2s,border-color .2s,transform .2s;position:relative;overflow:hidden;}
.bento-cell:hover{background:rgba(255,255,255,.07);border-color:rgba(255,255,255,.14);transform:translateY(-2px);}
.bento-cell.span2{grid-column:span 2;}
.bento-emoji{font-size:28px;margin-bottom:14px;display:block;}
.bento-title{font-size:16px;font-weight:800;color:#fff;letter-spacing:-.3px;margin-bottom:7px;}
.bento-desc{font-size:13px;color:rgba(255,255,255,.4);line-height:1.65;}
.bento-tag{display:inline-block;margin-top:13px;padding:3px 11px;border-radius:99px;font-size:10px;font-weight:700;letter-spacing:.06em;text-transform:uppercase;}
.bento-bars{display:flex;align-items:flex-end;gap:5px;height:44px;margin-top:16px;}
.bento-bar{flex:1;border-radius:4px 4px 0 0;background:rgba(123,143,239,.5);}
.bento-plat-row{display:flex;flex-wrap:wrap;gap:6px;margin-top:12px;}
.bento-plat-chip{padding:4px 10px;border-radius:99px;font-size:11px;font-weight:700;border:1px solid;}

/* ── STATS ROW ── */
.lp-stats{position:relative;z-index:10;display:grid;grid-template-columns:repeat(3,1fr);gap:1px;max-width:700px;margin:0 auto 100px;background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.07);border-radius:20px;overflow:hidden;}
.lp-stat{padding:32px;text-align:center;background:#000;}
.lp-stat-val{font-size:42px;font-weight:900;color:#fff;letter-spacing:-2px;line-height:1;}
.lp-stat-lbl{font-size:12px;font-weight:600;color:rgba(255,255,255,.32);margin-top:6px;letter-spacing:.04em;}

/* ── HOW IT WORKS ── */
.lp-hiw{position:relative;z-index:10;padding:40px 40px 80px;max-width:900px;margin:0 auto;width:100%;}
.hiw-steps{display:grid;grid-template-columns:repeat(3,1fr);gap:32px;margin-top:48px;}
.hiw-step{text-align:center;}
.hiw-num{width:44px;height:44px;border-radius:50%;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.12);display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:900;color:#fff;margin:0 auto 16px;}
.hiw-title{font-size:16px;font-weight:800;color:#fff;margin-bottom:8px;letter-spacing:-.3px;}
.hiw-desc{font-size:13px;color:rgba(255,255,255,.38);line-height:1.7;}

/* ── BUILDER SECTION ── */

/* ── SOCIAL PROOF ── */
.lp-social{position:relative;z-index:10;padding:60px 0 80px;}
.tmarquee-wrap{overflow:hidden;mask:linear-gradient(90deg,transparent,#000 8%,#000 92%,transparent);}
.tmarquee{display:flex;gap:20px;width:max-content;animation:marquee 32s linear infinite;}
.tmarquee:hover{animation-play-state:paused;}
.tcard{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.09);border-radius:18px;padding:24px 28px;width:300px;flex-shrink:0;}
.tcard-quote{font-size:13.5px;color:rgba(255,255,255,.7);line-height:1.7;margin-bottom:16px;font-style:italic;}
.tcard-author{}
.tcard-name{font-size:13px;font-weight:800;color:#fff;}
.tcard-handle{font-size:11px;color:rgba(255,255,255,.38);margin-top:2px;}
.lp-social .lp-section-label,.lp-social .lp-section-title{text-align:center;max-width:none;padding:0 40px;}

/* ── MARQUEE TRUST STRIP ── */
.lp-strip{position:relative;z-index:10;padding:0 0 80px;overflow:hidden;}
.strip-label{text-align:center;font-size:10.5px;font-weight:700;letter-spacing:.18em;text-transform:uppercase;color:rgba(255,255,255,.18);margin-bottom:28px;}
.strip-track{display:flex;gap:32px;white-space:nowrap;animation:marquee 18s linear infinite;}
.strip-item{display:inline-flex;align-items:center;gap:10px;padding:10px 22px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.07);border-radius:99px;font-size:13px;font-weight:600;color:rgba(255,255,255,.4);flex-shrink:0;}
@keyframes marquee{0%{transform:translateX(0);}100%{transform:translateX(-50%);}}
.lp-builder-section{position:relative;z-index:10;padding:20px 40px 80px;display:flex;flex-direction:column;align-items:center;}
.builder-card{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.1);border-radius:24px;width:100%;max-width:960px;overflow:hidden;display:grid;grid-template-columns:280px 1fr;align-items:stretch;}
.builder-left{background:linear-gradient(160deg,#0d0d1a,#0f1e3d);padding:44px 40px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;min-width:220px;border-right:1px solid rgba(255,255,255,.07);}
.builder-avatar{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,#3b7eff,#a78bfa);display:flex;align-items:center;justify-content:center;font-size:36px;border:3px solid rgba(255,255,255,.15);box-shadow:0 8px 32px rgba(59,126,255,.3);}
.builder-name{font-size:20px;font-weight:900;color:#fff;letter-spacing:-.5px;text-align:center;}
.builder-role{font-size:11px;color:rgba(255,255,255,.35);font-weight:700;letter-spacing:.08em;text-transform:uppercase;text-align:center;}
.builder-right{padding:40px;}
.builder-bio{font-size:15px;color:rgba(255,255,255,.45);line-height:1.7;margin-bottom:28px;}
.builder-links{display:flex;flex-direction:column;gap:10px;}
.builder-link{display:flex;align-items:center;gap:12px;padding:13px 18px;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.08);border-radius:13px;text-decoration:none;color:rgba(255,255,255,.72);font-size:13.5px;font-weight:600;transition:all .16s;cursor:pointer;}
.builder-link:hover{background:rgba(255,255,255,.1);border-color:rgba(255,255,255,.16);color:#fff;transform:translateY(-1px);}
.builder-link-icon{width:30px;height:30px;border-radius:8px;background:rgba(255,255,255,.07);display:flex;align-items:center;justify-content:center;flex-shrink:0;color:rgba(255,255,255,.7);}
.builder-link-arr{margin-left:auto;font-size:12px;opacity:.3;transition:opacity .15s;}
.builder-link:hover .builder-link-arr{opacity:.7;}

/* ── FOOTER BENTO ── */
.lp-footer{position:relative;z-index:10;padding:40px 40px 60px;max-width:1100px;margin:0 auto;width:100%;}
.footer-bento{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.08);border-radius:24px;overflow:hidden;}
.footer-top{display:grid;grid-template-columns:1.4fr 1fr 1fr 1fr;gap:0;border-bottom:1px solid rgba(255,255,255,.07);}
.footer-brand{padding:36px;border-right:1px solid rgba(255,255,255,.07);}
.footer-brand-logo{display:flex;align-items:center;gap:10px;margin-bottom:14px;}
.footer-brand-name{font-size:18px;font-weight:900;color:#fff;letter-spacing:-.5px;}
.footer-brand-desc{font-size:13px;color:rgba(255,255,255,.7);line-height:1.65;margin-bottom:20px;}
.footer-col{padding:36px 28px;border-right:1px solid rgba(255,255,255,.07);}
.footer-col:last-child{border-right:none;}
.footer-col-title{font-size:11px;font-weight:800;color:rgba(255,255,255,.55);text-transform:uppercase;letter-spacing:.1em;margin-bottom:16px;}
.footer-link{display:block;font-size:13.5px;color:rgba(255,255,255,.8);font-weight:500;text-decoration:none;margin-bottom:10px;transition:color .15s;cursor:pointer;}
.footer-link:hover{color:#fff;}
.footer-bottom{padding:20px 36px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px;}
.footer-copy{font-size:12px;color:rgba(255,255,255,.55);}
.footer-socials{display:flex;gap:10px;}
.footer-social{width:32px;height:32px;border-radius:8px;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.15);display:flex;align-items:center;justify-content:center;text-decoration:none;color:rgba(255,255,255,.8);font-size:14px;transition:all .14s;}
.footer-social:hover{background:rgba(255,255,255,.12);color:#fff;}

/* ── ONBOARDING MODAL ── */
.onb-overlay{position:fixed;inset:0;background:rgba(0,0,0,.8);backdrop-filter:blur(16px);z-index:500;display:none;align-items:center;justify-content:center;}
.onb-overlay.active{display:flex;}
.onb-modal{background:#111;border:1px solid rgba(255,255,255,.12);border-radius:28px;padding:52px;width:100%;max-width:560px;position:relative;animation:mdIn .35s cubic-bezier(.34,1.56,.64,1);}
.onb-close{position:absolute;top:18px;right:18px;width:30px;height:30px;border-radius:50%;background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.1);color:rgba(255,255,255,.5);font-size:14px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .15s;}
.onb-close:hover{background:rgba(255,255,255,.13);color:#fff;}
.onb-icon{font-size:52px;display:block;margin-bottom:20px;line-height:1;}
.onb-tag{display:inline-block;padding:4px 14px;border-radius:99px;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.08em;margin-bottom:18px;}
.onb-title{font-size:28px;font-weight:900;color:#fff;margin-bottom:12px;letter-spacing:-.8px;line-height:1.1;}
.onb-text{font-size:15.5px;color:rgba(255,255,255,.5);line-height:1.7;margin-bottom:32px;}
.onb-viz{margin-bottom:28px;}
.onb-dots{display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:22px;}
.onb-dot{width:6px;height:6px;border-radius:50%;background:rgba(255,255,255,.2);transition:all .3s cubic-bezier(.34,1.56,.64,1);}
.onb-dot.active{width:22px;border-radius:99px;background:#fff;}
.onb-nav{display:flex;gap:12px;justify-content:center;align-items:center;}
.onb-back{font-size:13px;font-weight:600;color:rgba(255,255,255,.35);background:none;border:none;cursor:pointer;font-family:var(--sf);transition:color .15s;padding:8px 0;}
.onb-back:hover{color:rgba(255,255,255,.7);}
.onb-next{padding:13px 36px;background:#fff;color:#0a0a0a;border:none;border-radius:13px;font-family:var(--sf);font-size:15px;font-weight:800;cursor:pointer;transition:transform .18s cubic-bezier(.34,1.56,.64,1),box-shadow .18s;box-shadow:0 4px 24px rgba(255,255,255,.18);}
.onb-next:hover{transform:scale(1.04);box-shadow:0 8px 32px rgba(255,255,255,.26);}
.onb-google-btn{width:100%;padding:15px;display:flex;align-items:center;justify-content:center;gap:12px;background:#fff;border:none;border-radius:13px;font-family:var(--sf);font-size:15px;font-weight:800;color:#0a0a0a;cursor:pointer;transition:transform .18s cubic-bezier(.34,1.56,.64,1),box-shadow .18s;box-shadow:0 4px 24px rgba(255,255,255,.15);margin-top:8px;}
.onb-google-btn:hover{transform:scale(1.02);box-shadow:0 8px 32px rgba(255,255,255,.22);}
.onb-bars{display:flex;align-items:flex-end;justify-content:center;gap:8px;height:60px;margin-bottom:8px;}
.onb-bar{width:28px;border-radius:6px 6px 0 0;background:linear-gradient(to top,#3b7eff,#7eb3ff);}
.onb-plats{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;}
.onb-plat{display:flex;align-items:center;gap:6px;padding:6px 14px;border-radius:99px;font-size:13px;font-weight:700;border:1.5px solid;}
.onb-pbar-wrap{display:flex;flex-direction:column;gap:10px;text-align:left;}
.onb-prow{display:flex;align-items:center;gap:12px;font-size:13px;color:rgba(255,255,255,.6);}
.onb-ptrk{flex:1;height:6px;background:rgba(255,255,255,.08);border-radius:99px;overflow:hidden;}
.onb-pfill{height:100%;border-radius:99px;}

/* ── DOGGO GUIDE ── */
#doggo-wrap{position:fixed;bottom:24px;right:24px;z-index:8000;display:none;flex-direction:column;align-items:flex-end;gap:10px;}
#doggo-wrap.show{display:flex;}
.doggo-bubble{background:#fff;color:#111;border-radius:16px 16px 4px 16px;padding:13px 17px;font-size:13.5px;font-weight:600;line-height:1.5;max-width:230px;box-shadow:0 8px 32px rgba(0,0,0,.5);position:relative;animation:bubblePop .3s cubic-bezier(.34,1.56,.64,1);}
.doggo-bubble::after{content:'';position:absolute;bottom:-8px;right:22px;width:0;height:0;border-left:8px solid transparent;border-top:8px solid #fff;}
.doggo-bubble .doggo-step{font-size:10px;font-weight:800;text-transform:uppercase;letter-spacing:.1em;color:#888;margin-bottom:5px;}
.doggo-bubble .doggo-action{margin-top:10px;display:flex;gap:7px;}
.doggo-btn{padding:6px 13px;border-radius:8px;font-size:12px;font-weight:700;border:none;cursor:pointer;font-family:var(--sf);}
.doggo-btn.primary{background:#111;color:#fff;}
.doggo-btn.skip{background:rgba(0,0,0,.08);color:#555;}
@keyframes bubblePop{from{opacity:0;transform:scale(.7) translateY(10px);}to{opacity:1;transform:scale(1) translateY(0);}}
.doggo-sprite{width:64px;height:64px;image-rendering:pixelated;cursor:pointer;animation:doggoBob 1.8s ease-in-out infinite;filter:drop-shadow(0 4px 12px rgba(0,0,0,.5));}
@keyframes doggoBob{0%,100%{transform:translateY(0);}50%{transform:translateY(-5px);}}

/* ══════════════════════════════════════════
   APP HEADER  — identical to LP header
══════════════════════════════════════════ */
.island-wrap{position:sticky;top:0;z-index:100;animation:fadeIn .22s ease;}

.island{display:flex;align-items:center;gap:4px;padding:0 40px;height:62px;
  background:rgba(10,10,10,.72);backdrop-filter:blur(24px) saturate(160%);-webkit-backdrop-filter:blur(24px) saturate(160%);
  border-bottom:1px solid rgba(255,255,255,.08);
  transition:background .35s;}
[data-theme="light"] .island{
  background:rgba(255,255,255,.88);
  border-bottom-color:rgba(0,0,0,.09);}

/* Logo — same as LP logo */
.ilogo{display:flex;align-items:center;gap:9px;text-decoration:none;flex-shrink:0;margin-right:6px;}
.ilogomark{width:30px;height:30px;background:transparent;border-radius:9px;display:flex;align-items:center;justify-content:center;font-size:22px;}
.ilogotext{font-size:17px;font-weight:800;letter-spacing:-.5px;color:var(--t1);}

/* Nav tabs — same style as LP nav items */
.inav-item{display:flex;align-items:center;gap:5px;padding:6px 12px;border-radius:8px;font-size:13.5px;font-weight:500;color:var(--t2);cursor:pointer;transition:background .15s,color .15s;white-space:nowrap;user-select:none;position:relative;}
.inav-item:hover{background:rgba(255,255,255,.09);color:var(--t1);}
[data-theme="light"] .inav-item:hover{background:rgba(0,0,0,.06);}
.inav-item.active{color:var(--acc);background:var(--acl);}

/* Playlist dropdown from nav */
.inav-dd{position:absolute;top:calc(100% + 8px);left:0;min-width:200px;background:rgba(18,18,22,.97);backdrop-filter:blur(30px);border:1px solid rgba(255,255,255,.11);border-radius:14px;padding:8px;box-shadow:0 20px 60px rgba(0,0,0,.6);z-index:400;animation:slideDown .18s ease;display:none;}
[data-theme="light"] .inav-dd{background:rgba(255,255,255,.97);border-color:rgba(0,0,0,.1);box-shadow:0 12px 40px rgba(0,0,0,.14);}
.inav-item:hover .inav-dd{display:block;}
.inav-ddi{padding:7px 10px;border-radius:8px;font-size:13px;font-weight:500;color:var(--t1);cursor:pointer;transition:background .12s;display:flex;align-items:center;gap:8px;}
.inav-ddi:hover{background:var(--s3);}
.inav-dd-lbl{font-size:10px;font-weight:700;letter-spacing:.06em;color:var(--t3);text-transform:uppercase;padding:4px 10px 6px;}

/* Spacer */
.island-sp{flex:1;}

/* macOS-style Spotlight search */
.isearch-wrap{position:relative;}
.isearch-btn{width:36px;height:36px;background:rgba(255,255,255,.1);border:none;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:17px;cursor:pointer;color:var(--t2);transition:background .14s;flex-shrink:0;}
[data-theme="light"] .isearch-btn{background:rgba(0,0,0,.07);}
.isearch-btn:hover{background:rgba(255,255,255,.18);}
[data-theme="light"] .isearch-btn:hover{background:rgba(0,0,0,.12);}
.isearch-box{display:flex;align-items:center;gap:8px;background:rgba(255,255,255,.1);border:1.5px solid var(--acc);border-radius:11px;padding:5px 13px;width:280px;animation:searchIn .22s cubic-bezier(.34,1.56,.64,1);box-shadow:0 0 0 3px var(--acl);}
[data-theme="light"] .isearch-box{background:rgba(0,0,0,.04);}
.isearch-box input{background:none;border:none;outline:none;font-size:13.5px;color:var(--t1);font-family:var(--sf);flex:1;letter-spacing:-.2px;}
.isearch-box input::placeholder{color:var(--t3);}
.isearch-kbd{font-size:10px;font-weight:700;padding:2px 6px;border-radius:5px;background:rgba(255,255,255,.12);color:var(--t3);letter-spacing:.02em;}
[data-theme="light"] .isearch-kbd{background:rgba(0,0,0,.08);}
.isearch-close{background:none;border:none;cursor:pointer;color:var(--t3);font-size:15px;padding:0;line-height:1;transition:color .12s;}
.isearch-close:hover{color:var(--t1);}

/* YouTube-style icon action buttons */
.iicon-btn{width:36px;height:36px;background:rgba(255,255,255,.1);border:none;border-radius:10px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:17px;transition:background .14s,transform .12s;position:relative;flex-shrink:0;}
[data-theme="light"] .iicon-btn{background:rgba(0,0,0,.06);}
.iicon-btn:hover{background:rgba(255,255,255,.18);transform:scale(1.06);}
[data-theme="light"] .iicon-btn:hover{background:rgba(0,0,0,.11);}
.iicon-btn .badge{position:absolute;top:-5px;right:-5px;min-width:17px;height:17px;padding:0 3px;background:var(--red);border-radius:99px;font-size:9px;font-weight:800;color:#fff;display:flex;align-items:center;justify-content:center;animation:pulseDot 2.2s ease-in-out infinite;border:2px solid rgba(10,10,10,.8);}
[data-theme="light"] .iicon-btn .badge{border-color:#fff;}

/* Dark toggle */
.dtog{width:42px;height:24px;background:var(--tog);border-radius:99px;cursor:pointer;position:relative;border:none;flex-shrink:0;transition:background .3s;}
.tknob{width:18px;height:18px;background:#fff;border-radius:50%;position:absolute;top:3px;left:3px;transition:transform .28s cubic-bezier(.34,1.56,.64,1);box-shadow:0 1px 4px rgba(0,0,0,.25);display:flex;align-items:center;justify-content:center;font-size:10px;pointer-events:none;}
[data-theme="dark"] .tknob{transform:translateX(18px);}

/* Add video btn — same as LP primary button */
.btn-addvid{background:var(--acc);color:#fff;border:none;border-radius:9px;padding:7px 16px;font-family:var(--sf);font-size:13.5px;font-weight:700;cursor:pointer;transition:background .15s,transform .1s;white-space:nowrap;}
.btn-addvid:hover{background:var(--ach);transform:scale(1.03);}

/* Builder */
.btn-builder{display:flex;align-items:center;gap:5px;padding:6px 11px;background:rgba(255,255,255,.1);border:none;border-radius:9px;cursor:pointer;font-family:var(--sf);font-size:12px;font-weight:700;color:var(--t2);transition:background .15s;white-space:nowrap;}
[data-theme="light"] .btn-builder{background:rgba(0,0,0,.06);}
.btn-builder:hover{background:rgba(255,255,255,.18);}
[data-theme="light"] .btn-builder:hover{background:rgba(0,0,0,.1);}

/* ── NOTIF DROPDOWN ── */


/* ── BUILDER CARD ── */
.bcov{position:fixed;inset:0;z-index:900;display:none;}
.bcard{position:fixed;top:74px;right:20px;width:255px;background:var(--surface);border:1px solid var(--bs);border-radius:18px;box-shadow:var(--shx);overflow:hidden;animation:popIn .22s cubic-bezier(.34,1.56,.64,1);z-index:901;}
.bc-ban{height:78px;background:linear-gradient(135deg,#0071e3,#34aadc 60%,#30d158);display:flex;align-items:flex-end;padding:13px;position:relative;overflow:hidden;}
.bc-ban::before{content:'';position:absolute;inset:0;background:url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23fff' fill-opacity='0.07'%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Ccircle cx='30' cy='10' r='2'/%3E%3Ccircle cx='20' cy='20' r='2'/%3E%3C/g%3E%3C/svg%3E");}
.bc-av{width:40px;height:40px;background:rgba(255,255,255,.22);border-radius:12px;border:2px solid rgba(255,255,255,.55);display:flex;align-items:center;justify-content:center;font-size:21px;}
.bc-body{padding:13px 15px 15px;}
.bc-name{font-size:15px;font-weight:700;color:var(--t1);margin-bottom:2px;}
.bc-role{font-size:11px;color:var(--acc);font-weight:600;margin-bottom:10px;}
.bc-link{display:flex;align-items:center;gap:7px;padding:7px 10px;background:var(--s3);border:1px solid var(--b);border-radius:9px;text-decoration:none;color:var(--t2);font-size:12px;font-weight:500;transition:all .15s;}
.bc-link:hover{background:var(--acl);border-color:var(--acc);color:var(--acc);}

/* ══════════════════════════════════════════
   APP LAYOUT
══════════════════════════════════════════ */
.app-body{display:flex;flex:1;overflow:hidden;}

/* ── SIDEBAR — YouTube style ── */
.sidebar{width:220px;flex-shrink:0;background:var(--s2);backdrop-filter:blur(20px);border-right:1px solid var(--b);display:flex;flex-direction:column;overflow:hidden;transition:background .35s;}
.sb-scroll{flex:1;overflow-y:auto;padding-top:6px;scrollbar-width:thin;scrollbar-color:rgba(128,128,128,.2) transparent;}
.sb-lbl{font-size:10px;font-weight:700;letter-spacing:.06em;color:var(--t3);text-transform:uppercase;padding:14px 16px 5px;}
.sb-item{display:flex;align-items:center;gap:10px;padding:8px 11px;margin:1px 7px;border-radius:10px;cursor:pointer;transition:background .14s,color .14s;position:relative;user-select:none;}
.sb-item:hover{background:var(--s3);}
.sb-item.active{background:var(--acl);color:var(--acc);}
.sb-ico{width:26px;height:26px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:13px;background:var(--s3);flex-shrink:0;transition:background .14s;}
.sb-item.active .sb-ico{background:var(--acl);}
.sb-item:hover .sb-ico{background:var(--b);}
.sb-label{font-size:13px;font-weight:500;flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;letter-spacing:-.1px;}
.sb-item.active .sb-label{font-weight:700;}
.sb-cnt{font-size:11px;font-weight:700;color:var(--t3);background:var(--s3);padding:1px 7px;border-radius:99px;flex-shrink:0;}
.sb-item.active .sb-cnt{background:var(--acl);color:var(--acc);}
.sb-pbar{height:3px;background:var(--s3);border-radius:99px;overflow:hidden;margin-top:2px;width:32px;}
.sb-pfill{height:100%;border-radius:99px;background:var(--grn);}
.pl-del-btn{display:none;position:absolute;right:8px;top:50%;transform:translateY(-50%);width:18px;height:18px;background:var(--s3);border:none;border-radius:50%;cursor:pointer;align-items:center;justify-content:center;font-size:9px;color:var(--t2);transition:background .12s;}
.sb-item:hover .pl-del-btn{display:flex;}
.pl-del-btn:hover{background:rgba(255,59,48,.15);color:var(--red);}
.sb-footer{padding:10px;border-top:1px solid var(--b);}
.sb-add-btn{width:100%;background:var(--acc);color:#fff;border:none;border-radius:10px;padding:10px;font-family:var(--sf);font-size:13px;font-weight:700;cursor:pointer;transition:background .15s;}
.sb-add-btn:hover{background:var(--ach);}

/* ── MAIN ── */
.main{flex:1;display:flex;flex-direction:column;overflow:hidden;}
.topbar{padding:14px 22px 12px;border-bottom:1px solid var(--b);flex-shrink:0;background:var(--bg);transition:background .35s;display:flex;align-items:center;gap:12px;flex-wrap:wrap;}
.tb-title{font-size:22px;font-weight:800;letter-spacing:-.6px;color:var(--t1);}
.tb-count{font-size:13px;color:var(--t3);}
.filter-tabs{display:flex;gap:4px;background:var(--s3);border-radius:9px;padding:3px;}
.ftab{padding:5px 13px;border-radius:7px;font-size:12.5px;font-weight:600;cursor:pointer;color:var(--t2);transition:all .15s;border:none;background:none;font-family:var(--sf);}
.ftab.active{background:var(--surface);color:var(--t1);box-shadow:var(--sh);}
.content{flex:1;overflow-y:auto;padding:20px 22px 12px;}

/* ── DUE BANNER ── */
.due-banner{margin-bottom:18px;animation:fadeUp .3s ease;}
.due-title{font-size:12px;font-weight:700;letter-spacing:.04em;text-transform:uppercase;color:var(--t3);margin-bottom:10px;display:flex;align-items:center;gap:8px;}
.due-scroll{display:flex;gap:10px;overflow-x:auto;padding-bottom:6px;scrollbar-width:none;}
.due-scroll::-webkit-scrollbar{display:none;}
.due-card{flex-shrink:0;width:210px;background:var(--surface);border-radius:12px;border:1px solid var(--b);overflow:hidden;cursor:pointer;transition:transform .18s cubic-bezier(.34,1.56,.64,1),box-shadow .18s;}
.due-card:hover{transform:translateY(-2px) scale(1.02);box-shadow:var(--shm);}
.due-thumb{aspect-ratio:16/9;overflow:hidden;background:var(--tp);position:relative;}
.due-thumb img{width:100%;height:100%;object-fit:cover;}
.due-ph{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:22px;}

/* ── PLAYLIST STATS ── */
.pl-stats{display:flex;align-items:center;gap:14px;padding:12px 18px;background:var(--s3);border:1px solid var(--b);border-radius:12px;margin-bottom:18px;}
.pls-stat{display:flex;flex-direction:column;align-items:center;gap:2px;}
.pls-val{font-size:21px;font-weight:800;color:var(--t1);letter-spacing:-.5px;}
.pls-lbl{font-size:10px;font-weight:700;color:var(--t3);letter-spacing:.04em;text-transform:uppercase;}
.pls-sep{width:1px;height:36px;background:var(--b);}
.pls-prog{flex:1;display:flex;flex-direction:column;gap:5px;}
.pls-track{height:6px;background:var(--s3);border-radius:99px;overflow:hidden;border:1px solid var(--b);}
.pls-fill{height:100%;border-radius:99px;background:var(--grn);transition:width .6s cubic-bezier(.34,1.56,.64,1);}
.pls-txt{font-size:11px;color:var(--t2);font-weight:500;}

/* ── VIDEO GRID ── */
.vgrid{display:grid;grid-template-columns:repeat(auto-fill,minmax(265px,1fr));gap:15px;animation:fadeUp .3s ease;}

/* ── VIDEO CARD ── */
.vcard{background:var(--surface);border-radius:16px;overflow:hidden;box-shadow:var(--sh);border:1px solid var(--b);transition:transform .22s cubic-bezier(.34,1.56,.64,1),box-shadow .22s,border-color .2s;position:relative;}
.vcard:hover{transform:translateY(-5px) scale(1.005);box-shadow:var(--shl);border-color:var(--bs);}
.vcard.watched{opacity:.68;}
.watched-ov{position:absolute;top:9px;right:9px;width:26px;height:26px;background:var(--grn);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:13px;font-weight:800;z-index:5;box-shadow:0 2px 8px rgba(52,199,89,.45);}
.vthumb{position:relative;overflow:hidden;cursor:pointer;aspect-ratio:16/9;background:var(--tp);}
.vthumb img{width:100%;height:100%;object-fit:cover;display:block;transition:transform .4s ease;}
.vcard:hover .vthumb img{transform:scale(1.05);}
.vthumb-ph{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:34px;}
.pbadge{position:absolute;top:9px;left:9px;padding:3px 9px;border-radius:99px;font-size:10px;font-weight:700;}
.play-ov{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0);transition:background .2s;}
.vcard:hover .play-ov{background:rgba(0,0,0,.42);}
.play-circle{width:50px;height:50px;background:rgba(255,255,255,.93);backdrop-filter:blur(10px);border-radius:50%;display:flex;align-items:center;justify-content:center;opacity:0;transform:scale(.8);transition:opacity .2s,transform .22s cubic-bezier(.34,1.56,.64,1);box-shadow:0 4px 20px rgba(0,0,0,.3);}
.vcard:hover .play-circle{opacity:1;transform:scale(1);}
.play-tri{width:0;height:0;border-style:solid;border-width:8px 0 8px 15px;border-color:transparent transparent transparent #0f0f0f;margin-left:3px;}
.vinfo{padding:11px 13px 13px;}
.vtitle{font-size:13px;font-weight:600;color:var(--t1);line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;margin-bottom:4px;letter-spacing:-.1px;}
.vurl{font-size:11px;color:var(--t3);margin-bottom:9px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.dl-row{display:flex;align-items:center;gap:7px;margin-bottom:10px;padding:6px 9px;border-radius:9px;border:1px solid;}
.dl-dot{width:7px;height:7px;border-radius:50%;flex-shrink:0;}
.dl-txt{font-size:11.5px;font-weight:500;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.dl-badge{font-size:10.5px;font-weight:700;padding:2px 8px;border-radius:99px;white-space:nowrap;}
.vactions{display:flex;gap:6px;}
.btn-play{flex:1;background:var(--acc);color:#fff;border:none;border-radius:8px;padding:8px 0;font-family:var(--sf);font-size:12.5px;font-weight:700;cursor:pointer;transition:background .15s;letter-spacing:-.1px;}
.btn-play:hover{background:var(--ach);}
.btn-ico{width:34px;height:34px;background:var(--s3);border:none;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:14px;color:var(--t2);transition:background .15s;}
.btn-ico:hover{background:var(--b);}
.btn-ico.watched-ico{color:var(--grn);background:rgba(52,199,89,.12);}

/* ── DROPDOWN MENU ── */
.dd-wrap{position:relative;}
.dd-menu{position:absolute;bottom:calc(100% + 8px);right:0;background:var(--surface);border:1px solid var(--bs);border-radius:14px;box-shadow:var(--shx);padding:8px;min-width:205px;z-index:400;animation:popIn .18s cubic-bezier(.34,1.56,.64,1);}
.dd-lbl{font-size:10px;font-weight:700;letter-spacing:.04em;text-transform:uppercase;color:var(--t3);padding:2px 8px 6px;}
.dd-it{padding:7px 10px;border-radius:8px;font-size:13px;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:8px;color:var(--t1);transition:background .12s;user-select:none;}
.dd-it:hover{background:var(--s3);}
.dd-it.dd-chk{color:var(--acc);}
.dd-it.dd-ok{color:var(--grn);}
.dd-it.dd-warn{color:var(--org);}
.dd-it.dd-danger{color:var(--red);}
.dd-it.dd-danger:hover{background:rgba(255,59,48,.08);}
.dd-sep{height:1px;background:var(--b);margin:5px 0;}
/* Extend inline sub-panel */
.dd-extend-inline{padding:10px 10px 8px;background:var(--s3);border-radius:10px;margin:4px 0;border:1px solid var(--b);animation:fadeUp .15s ease;}
.dd-extend-lbl{font-size:11.5px;color:var(--t2);margin-bottom:8px;font-weight:700;}
.dd-extend-btns{display:flex;gap:5px;flex-wrap:wrap;margin-bottom:8px;}
.dd-ext-d{padding:3px 10px;border-radius:8px;font-size:12px;font-weight:700;border:1.5px solid var(--b);background:transparent;color:var(--t2);cursor:pointer;font-family:var(--sf);transition:all .15s;}
.dd-ext-d.sel{border-color:var(--acc);background:var(--acl);color:var(--acc);}
.dd-ext-act{display:flex;gap:6px;}
.dd-ext-cancel{flex:1;padding:6px 0;background:var(--b);border:none;border-radius:8px;font-size:12px;font-weight:600;cursor:pointer;color:var(--t2);font-family:var(--sf);transition:background .12s;}
.dd-ext-cancel:hover{background:var(--bs);}
.dd-ext-ok{flex:1;padding:6px 0;background:var(--org);border:none;border-radius:8px;font-size:12px;font-weight:700;cursor:pointer;color:#fff;font-family:var(--sf);transition:opacity .15s;}
.dd-ext-ok:hover{opacity:.85;}

/* ── ANALYTICS ── */
.an-wrap{flex:1;overflow-y:auto;padding:22px 24px 24px;}
.an-hd{font-size:23px;font-weight:800;letter-spacing:-.6px;color:var(--t1);margin-bottom:4px;}
.an-sub2{font-size:13px;color:var(--t2);margin-bottom:24px;}
.an-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px;margin-bottom:24px;}
.an-card{background:var(--surface);border:1px solid var(--b);border-radius:14px;padding:16px;text-align:center;}
.an-val{font-size:30px;font-weight:800;letter-spacing:-1px;color:var(--t1);margin-bottom:4px;}
.an-lbl{font-size:11px;font-weight:700;color:var(--t3);text-transform:uppercase;letter-spacing:.04em;}
/* ── INSIGHTS CHART CARD — image reference style ── */
.an-chart-box{background:var(--surface);border:1px solid var(--b);border-radius:24px;padding:28px 28px 20px;margin-bottom:16px;display:grid;grid-template-columns:1fr 1.4fr;gap:24px;align-items:center;}
.an-chart-box-inner-left{display:flex;flex-direction:column;gap:0;}
.an-chart-icon{width:48px;height:48px;background:var(--s3);border-radius:13px;display:flex;align-items:center;justify-content:center;font-size:20px;margin-bottom:18px;border:1px solid var(--b);}
.an-chart-hd{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:0;}
.an-chart-title{font-size:18px;font-weight:800;color:var(--t1);letter-spacing:-.4px;margin-bottom:8px;}
.an-chart-sub{font-size:13.5px;color:var(--t2);margin-bottom:20px;line-height:1.6;}
.an-chart-stats{display:flex;gap:28px;}
.an-stat-val{font-size:28px;font-weight:800;color:var(--t1);letter-spacing:-1px;line-height:1;}
.an-stat-lbl{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.08em;color:var(--t3);margin-top:4px;}
.period-tabs{display:flex;gap:4px;background:var(--s3);border-radius:8px;padding:3px;}
.ptab{padding:4px 12px;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;color:var(--t2);border:none;background:none;font-family:var(--sf);transition:all .15s;}
.ptab.active{background:var(--surface);color:var(--t1);box-shadow:var(--sh);}
.an-chart-right{position:relative;}
.chart-c{position:relative;height:200px;width:100%;}
.punc-card{background:var(--surface);border:1px solid var(--b);border-radius:16px;padding:20px;margin-bottom:16px;}
.punc-score{display:inline-flex;align-items:center;gap:8px;padding:6px 14px;border-radius:99px;font-size:13px;font-weight:700;margin-top:12px;}
.hist-list{display:flex;flex-direction:column;gap:8px;margin-top:12px;max-height:260px;overflow-y:auto;}
.hist-item{display:flex;align-items:center;gap:10px;padding:9px 12px;background:var(--s3);border-radius:10px;}

/* ── MODALS ── */
.mov{position:fixed;inset:0;background:rgba(0,0,0,.52);backdrop-filter:blur(16px);display:flex;align-items:center;justify-content:center;z-index:1000;animation:ovIn .18s ease;}
.modal{background:var(--surface);border-radius:20px;box-shadow:var(--shx);border:1px solid var(--b);width:500px;max-width:96vw;overflow:hidden;animation:mdIn .26s cubic-bezier(.34,1.56,.64,1);}
.glass-modal{background:rgba(255,255,255,.12);backdrop-filter:blur(44px) saturate(200%);border:1px solid rgba(255,255,255,.22);border-radius:24px;box-shadow:0 32px 80px rgba(0,0,0,.5);width:400px;max-width:96vw;overflow:hidden;animation:mdIn .26s cubic-bezier(.34,1.56,.64,1);}
[data-theme="dark"] .glass-modal{background:rgba(28,28,30,.78);}
.mhd{padding:22px 24px 0;}
.mtitle{font-size:19px;font-weight:800;letter-spacing:-.4px;color:var(--t1);margin-bottom:4px;}
.msub{font-size:13px;color:var(--t2);line-height:1.5;}
.mbody{padding:18px 24px;}
.mft{padding:0 24px 22px;display:flex;gap:10px;justify-content:flex-end;}
.ff{margin-bottom:14px;}
.fl{font-size:12px;font-weight:700;color:var(--t2);margin-bottom:6px;display:block;}
.fi{width:100%;background:var(--s3);border:1.5px solid var(--bs);border-radius:10px;padding:10px 13px;font-family:var(--sf);font-size:14px;color:var(--t1);outline:none;transition:border-color .18s,box-shadow .18s;}
.fi::placeholder{color:var(--t3);}
.fi:focus{border-color:var(--acc);box-shadow:0 0 0 3px var(--acl);}
.ferr{font-size:12px;color:var(--red);margin-top:6px;display:none;}
.finfo{font-size:12px;color:var(--acc);margin-top:6px;display:none;}
.pchips{display:flex;gap:6px;flex-wrap:wrap;margin-top:4px;}
.pchip{padding:3px 10px;border-radius:99px;font-size:11px;font-weight:600;border:1.5px solid;}
.btn-cancel{padding:9px 18px;background:var(--s3);border:none;border-radius:9px;font-family:var(--sf);font-size:14px;font-weight:500;cursor:pointer;color:var(--t1);transition:background .15s;}
.btn-cancel:hover{background:var(--b);}
.btn-ok{padding:9px 20px;background:var(--acc);border:none;border-radius:9px;font-family:var(--sf);font-size:14px;font-weight:700;cursor:pointer;color:#fff;transition:background .15s;}
.btn-ok:hover{background:var(--ach);}
.btn-ok:disabled{background:var(--t3);cursor:not-allowed;}
.btn-danger{flex:1;padding:10px;background:var(--red);border:none;border-radius:9px;font-family:var(--sf);font-size:14px;font-weight:700;color:#fff;cursor:pointer;}
.btn-danger:hover{opacity:.85;}

/* CONFIRM MODAL */
.cm-mod{background:var(--surface);border-radius:18px;box-shadow:var(--shx);border:1px solid var(--b);width:350px;max-width:95vw;padding:28px;animation:mdIn .22s cubic-bezier(.34,1.56,.64,1);text-align:center;}

/* PLAYER */
.pmod{background:#000;border-radius:20px;box-shadow:var(--shx);width:880px;max-width:96vw;overflow:hidden;animation:mdIn .26s cubic-bezier(.34,1.56,.64,1);}
.ptbar{background:rgba(16,16,18,.97);backdrop-filter:blur(20px);padding:12px 16px;display:flex;align-items:center;gap:10px;border-bottom:1px solid rgba(255,255,255,.07);}
.pdot{width:8px;height:8px;border-radius:50%;flex-shrink:0;}
.ptitle-txt{font-size:13.5px;font-weight:600;color:#f5f5f7;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.purl-a{font-size:11px;color:rgba(255,255,255,.3);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:200px;text-decoration:none;transition:color .15s;}
.purl-a:hover{color:rgba(255,255,255,.65);}
.pclose{width:28px;height:28px;border-radius:50%;background:rgba(255,255,255,.1);border:none;color:#fff;font-size:13px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .15s;flex-shrink:0;}
.pclose:hover{background:rgba(255,255,255,.2);}
.pfw{position:relative;width:100%;aspect-ratio:16/9;background:#000;}
.pfw iframe{position:absolute;inset:0;width:100%;height:100%;border:none;}
.pibar{background:rgba(16,16,18,.97);padding:11px 16px;display:flex;align-items:center;gap:12px;}
.pititle{font-size:13px;font-weight:500;color:rgba(255,255,255,.78);flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.btn-pmark{padding:6px 13px;background:rgba(255,255,255,.1);border:none;border-radius:7px;font-family:var(--sf);font-size:12px;font-weight:600;color:#fff;cursor:pointer;transition:background .15s;white-space:nowrap;}
.btn-pmark:hover{background:rgba(255,255,255,.18);}
.btn-popen{padding:6px 13px;background:rgba(255,255,255,.1);border:none;border-radius:7px;font-family:var(--sf);font-size:12px;font-weight:600;color:#fff;cursor:pointer;text-decoration:none;display:flex;align-items:center;gap:5px;transition:background .15s;white-space:nowrap;}
.btn-popen:hover{background:rgba(255,255,255,.18);}

/* SHARE */
.share-row{display:flex;gap:8px;margin-top:12px;}
.share-inp{flex:1;background:var(--s3);border:1.5px solid var(--bs);border-radius:10px;padding:9px 12px;font-family:var(--sf);font-size:12px;color:var(--t2);outline:none;}
.btn-copy{padding:9px 16px;background:var(--acc);color:#fff;border:none;border-radius:9px;font-family:var(--sf);font-size:13px;font-weight:700;cursor:pointer;transition:background .15s;white-space:nowrap;}
.btn-copy:hover{background:var(--ach);}

/* IMPORT */
.import-vi{display:flex;align-items:center;gap:10px;padding:9px 11px;background:var(--s3);border-radius:10px;border:1px solid var(--b);margin-bottom:8px;}
.import-thumb{width:56px;height:32px;border-radius:5px;overflow:hidden;background:var(--tp);flex-shrink:0;}
.import-thumb img{width:100%;height:100%;object-fit:cover;}
.import-check{width:19px;height:19px;border-radius:50%;border:2px solid var(--bs);flex-shrink:0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .15s;margin-left:auto;}
.import-check.on{background:var(--acc);border-color:var(--acc);color:#fff;font-size:10px;}

/* EMPTY */
.empty{text-align:center;padding:70px 20px;animation:fadeUp .4s ease;}
.empty-ico{width:68px;height:68px;background:var(--s3);border-radius:18px;display:flex;align-items:center;justify-content:center;font-size:30px;margin:0 auto 18px;}
.empty-title{font-size:18px;font-weight:700;color:var(--t1);margin-bottom:8px;}
.empty-txt{font-size:14px;color:var(--t2);margin-bottom:20px;line-height:1.55;}
.btn-empty{padding:10px 22px;background:var(--acc);color:#fff;border:none;border-radius:9px;font-family:var(--sf);font-size:14px;font-weight:700;cursor:pointer;}
.btn-empty:hover{background:var(--ach);}

/* APP FOOTER */
.app-footer{flex-shrink:0;padding:9px 24px;border-top:1px solid var(--b);background:var(--s2);backdrop-filter:blur(20px);display:flex;align-items:center;justify-content:space-between;font-size:11.5px;color:var(--t3);transition:background .35s;}

/* TOAST */
.toast{position:fixed;bottom:24px;left:50%;transform:translateX(-50%) translateY(60px);background:rgba(10,10,10,.9);backdrop-filter:blur(20px);color:#fff;padding:10px 22px;border-radius:99px;font-size:13px;font-weight:700;z-index:9999;opacity:0;transition:transform .3s cubic-bezier(.34,1.56,.64,1),opacity .25s;pointer-events:none;white-space:nowrap;border:1px solid rgba(255,255,255,.15);box-shadow:0 8px 32px rgba(0,0,0,.4);}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0);}

/* SEARCH RESULTS */
.search-results-drop{position:absolute;top:calc(100% + 8px);left:0;width:100%;background:var(--surface);border:1px solid var(--bs);border-radius:14px;box-shadow:var(--shx);z-index:200;overflow:hidden;animation:slideDown .18s ease;}
.sr-item{display:flex;align-items:center;gap:10px;padding:10px 14px;cursor:pointer;transition:background .12s;}
.sr-item:hover{background:var(--s3);}
.sr-thumb{width:46px;height:26px;border-radius:4px;overflow:hidden;background:var(--tp);flex-shrink:0;}
.sr-thumb img{width:100%;height:100%;object-fit:cover;}
</style>
</head>
<body>

<!-- ══════════════ LANDING ══════════════ -->
<div id="pg-landing" class="active">
  <!-- dead div placeholders so JS refs don't break -->
  <div class="lp-bg"></div><div id="lp-silver" class="lp-silver"></div>
  <div class="lp-mesh"></div><div class="lp-wave2"></div>
  <div class="lp-shimmer"></div><div class="lp-noise"></div>

  <!-- ── DYNAMIC ISLAND HEADER ── -->
  <div class="lp-island-wrap">
    <div class="lp-island" id="lp-island">
      <a class="li-logo" href="#">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABQCAIAAABd+SbeAAAbI0lEQVR42u18e7CdV3Xfeuy9v+875750JT9l2dj4Ib+wMZhiuwmJHfPwlADGDiHNTCFDIRRKUpIwpFAohUxCp8NMZpppkiYtLWna4LgFAnRCGAZMg8E2lmWwLduyZct6617d1znfa++1Vv/YR4IheLCDJbn0rrmj0b06uuf7ft/ev7XWb/32AViP9ViP9ViP9ViP9ViP9ViP9ViP9ViP9fjJCfzJuyGc3JSZAQAg5m/Wgf77XTceu3h7ViCeLNzxeY0gAD5jUJiZmapBMRgW3rulxbW6bosiDAZFStI0nYimJE8H/VE07Dg9AzzZmIJ9P65PCyKpKCCaGRF674oyVIMQgp+eHc7MDSVJNSyrqpiaG04NK+d4PGqOHF4ZDquiCn0fuy4tHFhUhb7rD+w7srZaM9N43Krq01wbAtgxiH58+PGkMdYPu/IQXFH6qelqamY4MzdEQkJkpmpQqthoXBeFL8vSBweosxumi1D0sa+GJQKKmKo45qLwzrGoDKqyqgZ106pKW/fjUcsMzLSyNGrb3tTWVuqm7paX144srIbCTU0PjhxeaZq+rtun22p/b8RP2op2jqtBcI4BQJKSo1NP37Dp1Nm5jdPVsESkUHgVRcpUgiLCjjOTqAogEWIIoe975yglYaKyLJAgBG8KKaWqKpjZDJnJOWem43FDRKNx7T0PqoqZ+y6uroxG41pEq6qIXRqt1SvL43rU7npsHyEOhmVTt0tLo6db+89foMsynL55ftOps3MbZ3zgrosqNjVTVlUJCMwu9dL1nQ+OiRCRmLquRwRHHghiH4P3gGAARfBEpKaEaGpFEZxnAAiFlyQxadd2PrgQ/HAwIKLp6am2aQ8cPOwcT08PVa2uW0nSdv1o3HjnQvBlVQTvAGC8VqvC7Ny0xLS8NNq75+AjD+4+dGg5xfT3uGs+wYw8v3H6yn9w4XkXbRnOVsNhiYxTU6UvgnccY48GKiKSzBTAQuGJyDERQlmWiCiSnCMiJkImFhUmNLOUBNC8d6o2PT3UJKNRnamWCKuiKEKoynJqOACwqanhYFCZGiIAWEpCRERQ191wqipDSCnFKPMb54qqADNDm5mb2nTq/KlnzA0H4cjiWnz2WPOJQhnN4LQz51963daZuaGZIQKYFcGrqqoUwYOZiACYc+idY2Lv2EBVBJGQDMxMzczKMjBzjL1jVlMVKauASERQlWEwGPR9HFTF3PTU9PTUoCrLEAZV5R175weD0rEL3nvnCCklJULnmIgcY1mEELzzjgjAyFQQSdViHwHAe950yqyq7tuz8Gy5gE8Uyja/cfql1140Oz8rSQBEVZ2jlJKZASgxVlVIUWIUJEAkYjJTx8yOidjMmBkQvHeIoKbOOec8MTrHiECEZVkaQIrRwIgJDL1zjp2agkHeEE3T1XXTti0RMZMpBO+LwgfvENE555nLwpdloSoGYKZlWZqBgUkSIJqbn9rz5KGm7hDxebeiyzL81I1XzswNY59C8CKJiYkpeMdMITgEFBVEIERAJCR2xMzEmEvAlMTUANBAmdh7x8xq4pwjQjNgJmZWU0RUVSICgxRjFEkpIpIPLiVZWl7Oz6yPMcbonZOUBmU1OzPNTJ69mTnHCEhEatb3se+jioYQuq6XJFVVMeGhg0s/tCo/mUAXhX/ptRfNb5pJUXxwqmoGolqWIfYRCR0RoRZFiF3vHHnv1cxUmVhVVc0xVVXRx97UvHc+uJSiqCGAgYEhIBAhM5sZGCACIIiqZ66q0jtHTDFGAOu6vm66rmvziy13RQjBuxiT957ZxZhENErquz4v867r1ZSQRASRNmyc7tru4P4jJxloIiRiRCQiRDz9jA0XXLKlKDwCIBiChuBzpcYMjokJnSNmDCGYmog6R0zEjtWMiIoiqAohFWUhkrx3hOSYEBEJEAwMVE3VEIAYg3PE3HWdY04iSVLbdWCmopmKJEkIHolSijFGABDRwaAUSXVdxyRt19Z165wry4GqIYJ33kCbulEV5/z09GD/noW2jc+QP44L0GZg3xcXv2jzKadNp9iZSYo9kRGZSBTpARTAzCKCMgOziSohIRgYmiqhseOu61XVMZtpTohqpirsWFUNgIjzDTNzTElV265j4jKE0bge103X9QjoHTOz974oAgCwYwAcN3WKqa6bcd00Tdv1vYp479h7dtj3fdf3TEjMpoKIAJRSdJ5n5wbjtWa01pyEOpoIVe2yyy66+mVXjtZGGfPzzj+jrLwaOCYRc47MjB0DGDMxASI4Jh+c4+LhnQ/v3be3rCoVICZmVMDJdZoRs4imFAHQOWdm3jvnHICJKCIiEjGCgYoVhSOiru9VFZGqskBEQhLR4aCqBqWp1m1f13URwsrqqI8pJ4jhsKqKkJK0XR9CMAMRyS2hiMYYiSjGXs0WDi7dc+eOwweXf3SD9pwXGAB2xZWX7Nr15K7Hn6qq8rTTT91270N1XSNRZk8EAELHzIw++BC4GoRNm6Yvv+Lsl7z4itidv/upx1N07IiJABEMVMWxU7OUkqoREQKYKREyU0riHIkkEWVmiIBI3jsDSyJN0wJAUYSu70V0ampYlAEQRBQBwSzG1PWxqiqzmtkhUS50FIWY+z4BmooVZUgxtV3HTKPxWFURaGZu+rKrzrvnb3esrdYnFOgcbdtuv+/BV73q+t1P7TnnBWcNh9UXv/CVp302BFPTxWWXnvayq17zylfdesfX/mrv/k1LqxaTiYKJGoKq9doTEWKuSgwsJwDKGYyQnHMAwky5MEfkpmmZ2DlWs6bpZmammHh1bTS/YbYoAgIVZYgxDodV2/UiqRqUktR775lUDZDLgtVsPGqIKPZJRBAgRmnaLu8w51xVFiG4E72iJ7+UXVEUT+5+asP8bIz9mWeejogheFUV0R/QZQip73Tv3tHnv/glQBnXfPDwatKgCjGpgBEiGBAzoo7HY1GZmZ5JKTZNMz09E4JfXhk75hACAKRk7AjNuq7P3XlRBCI6dGipabr5uVkwKIsCEUUkV/G5pWbHRNR1MXgfvBuPGyRyTGDgvJfM+20vIt77IoSUJGfRvovPpM7j55yjzeySSy84fGjxsceePHhwMaZ01ze31XUjIqr6d9Uv7xnMXHAHDh6p2x556v4HvlsUAzEzBBEFQGJW1bW1+tKLrjzvnAt379192qYzX3LFdU1Tr62tXX3lNTNT8wcPH0AERIwxmVnbdogEgClJCL4qi7mZ6aSCCEUIbduJqKoWoaiqUkwMIHjnHKsIM6sBM/cx9bFXFSJKKYmI8y4E33adqoEBEuzbffjJXYd+NDLHp+ow57ium8WFI9u+/d2FhSPM/LGPvf+T/+UPtl58QS77MqEzMyIh0mi13fvUyt69o75Lba9JtY8pxmQAMUnb9U3TLS2N3vHWd3zotz+0vNRcuvWK3/y1f3P2WS88fHjtff/i47/xrvcuL49TElWTJF3Xm5mqpphyuTIzPR2TLB5ZXlhcWlpZyXKJqYpIH2Ppi4IdGoABOepiVFHHDglVDJG6vutjBECJsjaq+5j6vldVJl5brZ+JdnpcqCPrtjmDM5OIvPyal3zgA78FMDdaW333u38719dmJiIiAgDOkYiO1jpRaJu+71LTNk3TqBkxTw2nsvpT13XbjOu6q5tGNUqSQ4cPvfvX39p0ddt2C0c6BKvKChCD913fj0ejsirNrGkPIOLUcKiaxvWYQGdnZol5cWlxXNeMND09jcRt14loVVXkcHVtzQCYfdu2XZ9yU5pFDyL2HiXJysqoHnfPiE6Pn8BhBgCW+4i3/9NfWlg48OST99xyy2s/8MHfXVlezXOTV7/6hosuOu/Bhx7967/+qhnEXkwBEQ8dPnLWmWdd/1NXTU3NPLbrsXu33+sCIhEi8tHdkAUQJDQyAxiNx9dees1ZZ77g7m13Lhw5OBhUw8H0NVf/7Np45ZGdD1x0/iUb50/99n13bTnrrIsvvCTGbveex/Yf3HvuORdtPmPLysrKjp0PJm2qsvIMCND1sU9JRZ1TAyMkAEjfNwyLMZlq7OKkjn6aUcbxBRq/j7JFZNOmjbfe+sZP/dn/+NKXvvqXt33uta995X/7s9vnNszedtuf3nD9Nffd990rrrz4s5/58i23vK3vEjEtLq3+6lvf/uvvfs+ep/YuLBz5529/x133bP/Axz7Yd6PcBZoZGAJgTDG46g8+8e8PHXrq5df/7E033vTqV775Pb/5lj37dyPCKRs2f+j9v7Ptvjvf8s63vP/XPnTNy6/75re+ueWszcOqmps/9eGH719cWnrRJZd3XbfxlNMf3/Xwx3//9yT1vhxkEaoqi9Go7rqOmFSVCFJK7LjrOknCzEUVVo6MxqNuMpE7KRydJ4CZi2/9hX9UVfOf/ORf3P6XX1haevydv/pPzOzd7/qVG66/8cVX3fjiF7/yRS/6ude//qabb75peXmtaZsrL7vqfe/9V3/ynz619SUvu+7GV//Ma1531Yuv+qVb33xkaZWIcm8ipgBGxKI6Wju0tLQkpqtra6IrSVLwLiUZjWrV1dF4tLxSLy0vi6THdu16/S++6bqfe+Xdd9950UWXp2g33XzzNTfccNvtnz7v3CsvufDy0XisIow0NSiL4Muy8N6nKF3f55zRNi0ChuBzau+6aM9s8nJ8VjQSIuU+Col+5a2/eGD/IyvLq1u2bP7aHXe87uffcP4F573kpZePR4ff8563l4Vv2g7A3fSa67/1rW2xl1dc9w/N2nPOPuvTn/qTsiwWF1a8k1dcey2jB1NQFRHIvGQKZkzMjIyYpwEqMB63Ken8TFb0SdWy5PQX//O2ciir4+bRnTuvvvqnb/vM7b2tzM6Hbdu333KzOea+T8H7CYIGZtB2nXeuAL82qlVVVPMS6vtIiKOVWs1yvjkZHH20Z1bVa6+9+sorL6tH46/f8ZksYCLiW97ypr7vReWJXU8UZUhJ/tm73rv9vgeGwyqmxMym6dChw4cXjhRFAWAf/Mi/PXj4kIimlPJmURUAJDymaAPk6RZgjFHVEHE8HueewntHxAAwPz+3Oj7EzD54AJmZmZqfm+v7OByWiKhqfdf3MYpoiqmPyQDBsOu6Pqb8JoSYmxdm6rp+/75FeCbEcRw5+uhb//Iv34zIb7z17Xv27GemUITPffaTP//aG77wv78yM7PpS3/z9W/eeQ8A/MKbXrdn74FBVQLY3d/eTrxh9569//oj/w4qQIDrf/q6cb0KZCKSREwtxphSRMQkElMEgJiSmam5TRs3LSwcKcvyFddcmgQRwDsWkZQEAfJf8pck6WOfRFNKKUVVTSIppZQkJTWAlCIiZLiD4ySooDFGVfXePbZz//KR0TO047jjw9FAhACw+awz3vnOt95xxze+/OU7jv3rn//3//W+3/roH//HP//sZz975ze+suOhe+fmZk4/44xXv+bND+947JRN83/4p//5i1/89Ic/+JFb3vCaXU/ufuF5L7h460s/9nsf/f0/+g8bN24YTs2LKDM5VwwGA1WYnduoqojw1a9/49Y3/uPf+fC/fNUNP7Np46azt5zj3HB+fj7GNDsz49zGlHQwKACsKArnZkIIsY9N2xehcG5QllWMqWnamBQAgg9E1LadqCKamalKjAkRnXeadOHASp6FPhOgj0tneOml5x84cHhxcXl+fm7Hjsf+8I/+68LC4tHeBB988OEHHvzO9vvu/8Qn/vjRnTvGdfPVr935trf9xrfvuX/L2WduvfjcHTsf/Nznv7R9+/1VWTkO3/nuwx/+6Ec//zdf9D60Y7n//u/cde/dXZcO7l/4xt1/e3jxUN/IHf/nW3sPPPHAjoe+fc82FZiamr7zrns+/LGPrywfuXvbvTseeaBr9LHHd9697VvsEiKNR3Hfvv333n/X6mi576Xt9Mji8rb772raERLnfN60bV7NMUYVI8Ik6pgQUNSWDq08/ui+Z27zeI5lUmYS0Vtuvem+bQ/s3Pnks31Il1x6wRtuufH2v7q9KgdPPnWgrntC9IFPOWV2empqZbXef2BRRM4958y10XhpZfUFZ59ZFOHxXXvZ8daLzimCe/jh3U3TGxiilWWxujresGF6y1mn7Xpif1O3W7eeMz1Vee8eefSppaXVSy4+d2ZmamlptLC4vLY2OuecM7ZsPr0oiqO8j4gIgH0fzRSJRaTrYnZL7XzgqUd37H0W+s9x6leIiGgisJnp97tPcq+RdQ9mzrsPAWOMxFkBhaLwF56/JYkiwnBYNk0fkwwGxbnnbja1FOPmzadu3fqCtu1iTOe/cAsTgZn37tJLz2NGMBuNmrrut2w+LQTHjFsvPNs5DsE1deu9u/CCLTHqcFAAIjOedurG88/bAggxCnPKSVvV8tSt63siIrIYBRFUdeHg2oF9S89OaDsuHK02GteqpioAf1fZMpEJ7j9g/+n6TicjFDMzBCCEvusRrfDOOwYA772oOsdmWhShLEPb9IA2NTUYDAoEJEJVreumLJ1zBGbMNDs7aNvYNh0AdG0sChf8ZMAYggezsnR9n5qmZaaj+gGaSRIQVVX1zqsaoWnURx/c8yMF6BMBdFWFl139op0bnmB2eWmYGgCYKUwU5dzKTBY40mQEdfnlW0MoVI2Zs4fGOUbE7L4ARVVLSZxjQuyjOKaZmSEY+OCGw3JQlYAgIpJkZnrYtl0SZSZCqOvuWHGJCH0v3qOIihjn3YfkvSeiGKNjNsAkAmaEyESi2vXRe7e6tPb4w5Ni42RawnLpft4Lt1xxxcWx79mx9zyYKorCUW4qEBHIAAjRDO2YY9MQEYuievTxR57a+8T0VJXXewgsaqZARIDovJNkAOY8s3NmUBauLIum6UJwRfBJZGVlVJUFotXjtm17dlQE1/eSdw8SI4D33kyz6anreuccsxORsiz6PmWXSEqam5GUVJJWg+LQviOPPvjU8tL4eeq9O23z9NzGYVEVyKSqpkaMXZ9imty8qgFYvpRBVUwNB2XhiEDVvGci6vtEzEl0MKwcc5ZPnXOFd+zJOwcASQQBvHf1uB3XbQiOEZumy6TfdRERERAIERHMmJkZQ/B9n1StKAIiImJ2iCFi3yUDM4OUpCjCypG1727btbpS/0j96ES24JhvDwCHw+L0MzdOzQ6ISRVM1Qcfk3DbTaqUpDFJZpK8IWJM7MgjIaGoGRgH59h5QCYys+GwAoCiDI55NKq7ph4My9inDKiqTk9Vlgv6Bro+MWfvEyGiiB51PGvfmxkURej7JKJEZKZJpGA6ptIhIREtHlx69KG9qyv1M6yaT5yBJmczQjzl9OmNp82yI1FQVUCMSZJIZkwzi0kAkAjZcZ7COGbnsrsFENEHj5A51FVVmZMVO2YiA0tJzKztYt9HM2Omvk/ZG9W2fdv0XRfVLHgPGWUD4rwKMM9uADCPu/oYnXNEnJJkT5qKOudWl0YPbd+9sjz+cQBxx5U0kLAaFoYQk2azB6ABZrOLQjZ6GTCjcw4AvHcpCTKZARiyY2YHQICWh2B9Hw0g9skx1dYm0eA5SxPEpGoxpiRqBinVKkrESKI6sZpkDSSnVs9sYFUZVK3r+qmpAQBkUQkJsybHjlMvCwdXRqP2x+0wjrfBkTLWmRaygctAzVSzoYmYJ0K+c6yqAGgGSESEzjvLv+Ko74CIUpIQHCC0XZ9EUxRAYqY85XPsmCnDTYjOMU68CfliKJtsACzzm3OOmRAnXOGcy2tA1QiRmNumf/yR/U3dPa+BNrO+k6LgclgAIucRp2qu8Zgxa2bZRhCjTAaJxEhITNn3hkSI4IjyVD//aQYi2vXJAIgJEIhIkqgaZPuTGhEe5VgyAyJynrMVhJmIyDv23mdlJltDOUc+hyCmaksLK3ueXDhW+D9vVzSYWl33IbhQuCSSKzkFI0JAlCTZeoGAuUfIE9uJ099xrhAmI2fEGAUQvWfv3bHeU83MQFUdOzBsuj6ftHDMcNRelL09hIgAaoaAeTp11LYGiOQc5/EuMwNgEunq/pEH9qyt1T8+DifCTarJmnEPAKH0k+4cUQ2+t7UnRkFEBCIiJkSC7MQlAiRREdGYhB0jYdt0KQkgeMeT1wNmCiZEcny07bR8kCvPvo72nPmRgirkWtNgkjOy2ddMRTSPlQ/sWdy18wA+FzXwCfJHi2hX9ybqAjMTIR0dTAAz5QNPmIkZMZ8YPOpHIETMjWV+nYiigZjFpAoGNpnoZK94lAlegGRHHWgZXTDIE3dCVDXA/HMwtfz+2ZKb29GsHC0cXDl8cBmfC6RP2NEKELFm3Mc2EiF78p6dYyR0zDDhRzo2E8pV7zHGmNRiiICoomiATAi5g0NQE7FslkY1AyRENMgniAxADVTEvm/mZDDpNhHomNSpYmaKiKaQyb7v48G9R56TE54nCOgsJ4hYjNI2fd9FU/OeXHBwdD2bZS1ikkWRKNPopHXGCY1L5pHsHQUwg6SafQ0GYGIyETQm/0NNTW3i2Zv8eNIZqVouRBCJ2WWFAIwAgBh9cPVau2/P4nNymPYEAX3UWw8AIMn6NvZt/F4FPSGAyVyGvheYJ6RIx5IlqSiYHiuZJ0az7Po/KvwRwFHCnVgyCAkmPC4Z8ExfjjnbARExj11zIvXBLS2s7dp5YG2l/n8J6B9Mj2opadv0sZdQOu9cZkwzy0VVtiRn3LOLwzKNAKiqioqYqoqIiImoGahatvmqiIkSkUguIbLsSflxM5H3PusVlCU6QFODLBsgOibneN+Th7ffvXNpce05G4nASQoD0KR9F03Mly7LEZM59/dW0ORYCiKIqKmJmiokkZgmznBTy9lSVZEmSsSkYgNEIhF1jo95pnJ+9Mym5rzLhU0RvMvHcpOuLo937tiz86G9fUzPoeZ2kj/dILdnZeXnTpmanh0UVYAJl0J2hiAhIeUzxoQgaiqiSaIqmOGkXcRj40pmDsEdMwdP2IOQkJIIAmajUz4yrmZ9F2MXV5fq0WqTUhqttfWoTT92e/K8A/p7moujsvLTc4OpmYoDqxgiOs/EHAqPACH4ELykpJZJQ1NKzI4IRPIBC8rtevY+s2OESXZFRGYX+3iURrAZt2vL9dLi2njc1qMu61DHd0nB8yYQkRiZiAgBgZnYUdYfAMExsZ8MDiSpJPHBASEdLXKJyHkqyyKmRAjOu1xduMD5zFbXxhSlqbvYp9Fa+4MuUPzRn2bxEwL0c3hLdqzRBMsNfRL9IR9PgEfTxXocl+eA6yisx3qsx3qsx3r8f1wL4HopsB7rsR7rsR7rsR7rsV6orcd6rMfJif8L8siEydRmfyYAAAAASUVORK5CYII=" alt="aellium" style="height:32px;width:auto;display:block;">
      </a>
      <div class="li-sep"></div>
      <button class="li-btn" onclick="document.getElementById('lp-about').scrollIntoView({behavior:'smooth'})">Features</button>
      <button class="li-btn" onclick="openInfoModal('pricing')">Pricing</button>
      <button class="li-btn" onclick="toggleLPBento()">Builder 🥷</button>
      <div class="li-spacer"></div>
      <button class="li-theme" onclick="toggleDark()" id="lp-theme-btn" title="Toggle theme">☀️</button>
      <button class="li-signin" onclick="startOnboarding()">Get Started</button>
    </div>
  </div>

  <!-- Builder bento popup -->
  <div class="lp-bento-ov" id="lp-bento-ov" onclick="closeLPBento()">
    <div class="lp-bento-card" onclick="event.stopPropagation()">
      <div class="lp-bento-ban">
        <div class="lp-bento-av">🥷</div>
      </div>
      <div class="lp-bento-info">
        <div class="lp-bento-name">Nikshep Doggalli</div>
        <div class="lp-bento-role">⚡ Builder &amp; Creator</div>
        <div class="lp-bento-links">
          <a class="lp-bento-link" href="https://instagram.com/nikkk.exe" target="_blank" rel="noopener">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" style="opacity:.65"><rect x="2" y="2" width="20" height="20" rx="5" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/><circle cx="17.5" cy="6.5" r="1" fill="currentColor"/></svg>
            <span>@nikkk.exe</span>
            <span style="margin-left:auto;opacity:.3;font-size:11px;">↗</span>
          </a>
          <a class="lp-bento-link" href="https://nikshep.vercel.app" target="_blank" rel="noopener">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" style="opacity:.65"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/><path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z" stroke="currentColor" stroke-width="2"/></svg>
            <span>nikshep.vercel.app</span>
            <span style="margin-left:auto;opacity:.3;font-size:11px;">↗</span>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- ── HERO — pitch black, giant typewriter ── -->
  <section class="lp-hero" id="lp-hero">
    <div class="tw-eyebrow">Your intentional video library</div>
    <h1 class="tw-title"><span id="tw-text"></span><span class="tw-cursor"></span></h1>
    <p class="lp-hero-sub">Stop watching on impulse. Start watching with intent.</p>
    <div class="scroll-ind" onclick="document.getElementById('lp-cta').scrollIntoView({behavior:'smooth'})">
      <div class="sd"></div>
      <span>scroll</span>
    </div>
  </section>

  <!-- ── START USING CTA (before features) ── -->
  <div class="lp-cta-section" id="lp-cta">
    <button class="lp-cta-btn" onclick="startOnboarding()">
      Start using aellium →
    </button>
    <div class="lp-cta-sub">Free forever · Takes 10 seconds · Sign in with Google</div>
  </div>

  <!-- ── MANIFESTO ── -->
  <div class="lp-manifesto">
    <div class="manifesto-body">
      The internet gave us <strong>infinite video.</strong><br>
      Your Watch Later has <strong>847 videos you'll never watch.</strong><br>
      Your tabs have <strong>23 YouTube links you forgot about.</strong><br>
      Your Reels are saved <strong>somewhere you'll never look.</strong><br><br>
      <strong>aellium is the antidote.</strong><br>
      One library. Deadlines. Accountability.<br>
      Watch what you actually meant to watch.
    </div>
  </div>

  <!-- ── STATS ── -->
  <div class="lp-stats">
    <div class="lp-stat"><div class="lp-stat-val">120+</div><div class="lp-stat-lbl">Platforms Supported</div></div>
    <div class="lp-stat"><div class="lp-stat-val">∞</div><div class="lp-stat-lbl">Videos You Can Save</div></div>
    <div class="lp-stat"><div class="lp-stat-val">0</div><div class="lp-stat-lbl">Ads or Distractions</div></div>
  </div>

  <!-- ── FEATURES SECTION ── -->
  <section class="lp-about" id="lp-about">
    <div class="lp-section-label">Features</div>
    <div class="lp-section-title">Watch less.<br>Watch better.</div>
    <div class="lp-section-sub">Stop letting the algorithm decide. aellium is your personal video library with deadlines, playlists, and real analytics.</div>

    <div class="bento-grid">
      <div class="bento-cell span2">
        <span class="bento-emoji">⏰</span>
        <div class="bento-title">Deadline-driven watching</div>
        <div class="bento-desc">Assign a deadline to every video. Green means you're fine, orange means hurry, red means you blew it. No more "I'll watch it later" spiral into never.</div>
        <div class="bento-bars">
          <div class="bento-bar" style="height:40%;background:rgba(50,215,75,.6);"></div>
          <div class="bento-bar" style="height:70%;background:rgba(50,215,75,.7);"></div>
          <div class="bento-bar" style="height:55%;background:rgba(255,159,10,.6);"></div>
          <div class="bento-bar" style="height:85%;background:rgba(255,159,10,.7);"></div>
          <div class="bento-bar" style="height:100%;background:rgba(255,69,58,.8);"></div>
          <div class="bento-bar" style="height:60%;background:rgba(123,143,239,.6);"></div>
          <div class="bento-bar" style="height:45%;background:rgba(123,143,239,.5);"></div>
        </div>
        <span class="bento-tag" style="background:rgba(255,69,58,.12);color:#ff453a;">Overdue alerts</span>
      </div>

      <div class="bento-cell">
        <span class="bento-emoji">🌐</span>
        <div class="bento-title">120+ platforms, one library</div>
        <div class="bento-desc">YouTube, Instagram, X and countless more — paste any video URL and aellium handles detection, thumbnail and metadata automatically.</div>
        <div class="bento-plat-row">
          <div class="bento-plat-chip" style="color:#ff453a;border-color:#ff453a30;background:#ff453a0d;">▶ YouTube</div>
          <div class="bento-plat-chip" style="color:#e1306c;border-color:#e1306c30;background:#e1306c0d;">◈ Instagram</div>
          <div class="bento-plat-chip" style="color:#aaa;border-color:#aaa3;background:rgba(255,255,255,.04);">✕ X</div>
          <div class="bento-plat-chip" style="color:#7b8fef;border-color:#7b8fef30;background:#7b8fef0d;">+ 120 more</div>
        </div>
      </div>

      <div class="bento-cell">
        <span class="bento-emoji">📋</span>
        <div class="bento-title">Curate playlists</div>
        <div class="bento-desc">Group videos into themed collections, track how much you've watched per playlist, and share via URL in one tap.</div>
        <span class="bento-tag" style="background:rgba(50,215,75,.1);color:#30d158;">Share via link</span>
      </div>

      <div class="bento-cell">
        <span class="bento-emoji">📊</span>
        <div class="bento-title">Brutally honest analytics</div>
        <div class="bento-desc">Completion rates, punctuality score, watch trends over time. It shows you exactly how disciplined — or undisciplined — you actually are.</div>
        <div class="bento-bars" style="height:36px;margin-top:12px;">
          <div class="bento-bar" style="height:50%;"></div>
          <div class="bento-bar" style="height:80%;"></div>
          <div class="bento-bar" style="height:60%;"></div>
          <div class="bento-bar" style="height:100%;"></div>
          <div class="bento-bar" style="height:70%;"></div>
        </div>
      </div>

      <div class="bento-cell">
        <span class="bento-emoji">▶</span>
        <div class="bento-title">Chronological feed</div>
        <div class="bento-desc">Your saved videos — newest first. No algorithm pushing junk, no sponsored content, no autoplay trap.</div>
        <span class="bento-tag" style="background:rgba(123,143,239,.1);color:#8b9ef4;">Your pace, your feed</span>
      </div>

      <div class="bento-cell">
        <span class="bento-emoji">🔗</span>
        <div class="bento-title">Instant playlist import</div>
        <div class="bento-desc">Share a playlist link — anyone who opens it gets your full playlist imported into their library instantly. One tap.</div>
        <span class="bento-tag" style="background:rgba(255,159,10,.1);color:#ff9f0a;">Import in 1 tap</span>
      </div>

      <div class="bento-cell span2">
        <span class="bento-emoji">🏆</span>
        <div class="bento-title">Punctuality score</div>
        <div class="bento-desc">A single score that tells you how good you are at actually watching videos before their deadline. Most people start at a humbling 40%. The goal is 100. It's addictive to improve.</div>
        <div style="display:flex;gap:8px;margin-top:16px;align-items:center;">
          <div style="flex:1;height:8px;background:rgba(255,255,255,.06);border-radius:99px;overflow:hidden;"><div style="height:100%;width:72%;background:linear-gradient(90deg,#30d158,#34c759);border-radius:99px;"></div></div>
          <span style="font-size:13px;font-weight:800;color:#30d158;">72%</span>
          <span style="font-size:12px;color:rgba(255,255,255,.3);">Getting there</span>
        </div>
      </div>

      <div class="bento-cell">
        <span class="bento-emoji">🌙</span>
        <div class="bento-title">Dark &amp; light mode</div>
        <div class="bento-desc">Beautiful in both. Toggle anytime. Your preference persists across sessions automatically.</div>
        <span class="bento-tag" style="background:rgba(255,255,255,.06);color:rgba(255,255,255,.5);">Always looks good</span>
      </div>
    </div>
  </section>

  <!-- ── COMPARISON ── -->
  <section class="lp-compare">
    <div class="lp-section-label">Why aellium</div>
    <div class="lp-section-title" style="font-size:clamp(26px,3vw,40px);margin-bottom:36px;">vs. the chaos you live in now</div>
    <table class="compare-table">
      <thead>
        <tr>
          <th>Feature</th>
          <th>YouTube Watch Later</th>
          <th>Browser Bookmarks</th>
          <th class="highlight">aellium ✓</th>
        </tr>
      </thead>
      <tbody>
        <tr><td>Cross-platform videos</td><td class="no">✗ YouTube only</td><td class="no">✗ Links only</td><td class="yes highlight">✓ 120+ platforms</td></tr>
        <tr><td>Deadlines &amp; urgency</td><td class="no">✗ None</td><td class="no">✗ None</td><td class="yes highlight">✓ Color-coded</td></tr>
        <tr><td>Completion tracking</td><td class="no">✗ No</td><td class="no">✗ No</td><td class="yes highlight">✓ Per video</td></tr>
        <tr><td>Analytics dashboard</td><td class="no">✗ No</td><td class="no">✗ No</td><td class="yes highlight">✓ Full insights</td></tr>
        <tr><td>Playlist sharing</td><td class="no">✗ Clunky</td><td class="no">✗ Manual</td><td class="yes highlight">✓ One link</td></tr>
        <tr><td>Algorithm-free</td><td class="no">✗ Heavily pushed</td><td class="yes">✓ Yes</td><td class="yes highlight">✓ Always</td></tr>
        <tr><td>Cost</td><td class="yes">Free</td><td class="yes">Free</td><td class="yes highlight">Free forever</td></tr>
      </tbody>
    </table>
  </section>

  <!-- ── HOW IT WORKS ── -->
  <section class="lp-hiw">
    <div class="lp-section-label">How it works</div>
    <div class="lp-section-title" style="font-size:clamp(28px,3.5vw,44px);">Up and running<br>in under a minute</div>
    <div class="hiw-steps">
      <div class="hiw-step">
        <div class="hiw-num">1</div>
        <div class="hiw-title">Sign in with Google</div>
        <div class="hiw-desc">One click, zero forms. Your library is created instantly and synced to the cloud. Works on every device.</div>
      </div>
      <div class="hiw-step">
        <div class="hiw-num">2</div>
        <div class="hiw-title">Paste any video link</div>
        <div class="hiw-desc">YouTube, Instagram Reels, X — drop the URL into aellium. Platform auto-detected, thumbnail fetched, saved instantly.</div>
      </div>
      <div class="hiw-step">
        <div class="hiw-num">3</div>
        <div class="hiw-title">Set a deadline &amp; watch</div>
        <div class="hiw-desc">Pick a date. Get color-coded urgency. Watch it, mark it done, and watch your punctuality score climb.</div>
      </div>
    </div>
  </section>

  <!-- ── SOCIAL PROOF MARQUEE ── -->
  <section class="lp-social">
    <div class="lp-section-label" style="margin-bottom:16px;">What people say</div>
    <div class="lp-section-title" style="font-size:clamp(28px,3.5vw,44px);margin-bottom:48px;">Built for people<br>who actually mean it.</div>
    <div class="tmarquee-wrap">
      <div class="tmarquee">
        <div class="tcard"><div class="tcard-quote">"Finally an app that makes me accountable. The deadline system is brutal in the best way possible."</div><div class="tcard-author"><div class="tcard-name">Arjun Sharma</div><div class="tcard-handle">Software Engineer, Bangalore</div></div></div>
        <div class="tcard"><div class="tcard-quote">"Replaced my 47-tab YouTube chaos with one clean intentional library. My productivity actually went up."</div><div class="tcard-author"><div class="tcard-name">Priya Nair</div><div class="tcard-handle">UX Designer, Mumbai</div></div></div>
        <div class="tcard"><div class="tcard-quote">"The punctuality score showing how bad I am at watching videos I save is honestly humbling."</div><div class="tcard-author"><div class="tcard-name">Rahul Mehta</div><div class="tcard-handle">Product Manager, Hyderabad</div></div></div>
        <div class="tcard"><div class="tcard-quote">"I used to save everything to Watch Later and never touch it. aellium with deadlines actually changed that."</div><div class="tcard-author"><div class="tcard-name">Ananya Iyer</div><div class="tcard-handle">Content Creator, Chennai</div></div></div>
        <div class="tcard"><div class="tcard-quote">"The playlist sharing feature is underrated. Sent a study playlist to my entire friend group in one link."</div><div class="tcard-author"><div class="tcard-name">Karan Singh</div><div class="tcard-handle">Student, Delhi</div></div></div>
        <div class="tcard"><div class="tcard-quote">"No algorithm, no autoplay trap, no shorts. Just my curated list. Exactly what I needed."</div><div class="tcard-author"><div class="tcard-name">Tanvi Patel</div><div class="tcard-handle">Freelancer, Ahmedabad</div></div></div>
        <div class="tcard"><div class="tcard-quote">"Finally an app that makes me accountable. The deadline system is brutal in the best way possible."</div><div class="tcard-author"><div class="tcard-name">Rohan Verma</div><div class="tcard-handle">Developer, Pune</div></div></div>
        <div class="tcard"><div class="tcard-quote">"Replaced my 47-tab YouTube chaos with one clean intentional library. My productivity actually went up."</div><div class="tcard-author"><div class="tcard-name">Shreya Rao</div><div class="tcard-handle">Data Analyst, Bengaluru</div></div></div>
      </div>
    </div>
  </section>

  <!-- ── TRUST STRIP ── -->
  <div class="lp-strip">
    <div class="strip-label" style="color:rgba(255,255,255,.85);font-weight:800;">Works with</div>
    <div class="strip-track">
      <div class="strip-item">▶ YouTube</div>
      <div class="strip-item">◈ Instagram</div>
      <div class="strip-item">✕ X / Twitter</div>
      <div class="strip-item">🎵 SoundCloud</div>
      <div class="strip-item">🎮 Twitch</div>
      <div class="strip-item">📺 Vimeo</div>
      <div class="strip-item">🎬 Dailymotion</div>
      <div class="strip-item">📱 TikTok</div>
      <div class="strip-item">🔵 Facebook Video</div>
      <div class="strip-item">▶ YouTube Shorts</div>
      <div class="strip-item">🎙️ Podcast links</div>
      <div class="strip-item">🌐 Any video URL</div>
      <div class="strip-item">⏰ Deadline Tracking</div>
      <div class="strip-item">📋 Playlists</div>
      <div class="strip-item">📊 Analytics</div>
      <div class="strip-item">🔗 Share via Link</div>
      <div class="strip-item">🌙 Dark Mode</div>
      <div class="strip-item">☁️ Cloud Sync</div>
      <div class="strip-item">🏆 Punctuality Score</div>
      <div class="strip-item">▶ YouTube</div>
      <div class="strip-item">◈ Instagram</div>
      <div class="strip-item">✕ X / Twitter</div>
      <div class="strip-item">🎵 SoundCloud</div>
      <div class="strip-item">🎮 Twitch</div>
      <div class="strip-item">📺 Vimeo</div>
      <div class="strip-item">🎬 Dailymotion</div>
      <div class="strip-item">📱 TikTok</div>
      <div class="strip-item">🔵 Facebook Video</div>
      <div class="strip-item">▶ YouTube Shorts</div>
      <div class="strip-item">🎙️ Podcast links</div>
      <div class="strip-item">🌐 Any video URL</div>
      <div class="strip-item">⏰ Deadline Tracking</div>
      <div class="strip-item">📋 Playlists</div>
      <div class="strip-item">📊 Analytics</div>
      <div class="strip-item">🔗 Share via Link</div>
      <div class="strip-item">🌙 Dark Mode</div>
      <div class="strip-item">☁️ Cloud Sync</div>
      <div class="strip-item">🏆 Punctuality Score</div>
    </div>
  </div>

  <!-- ── BUILDER SECTION ── -->
  <section class="lp-builder-section" id="lp-builder">
    <div style="text-align:center;margin-bottom:24px;font-size:11px;font-weight:800;letter-spacing:.18em;text-transform:uppercase;color:#fff;">Built by</div>
    <div class="builder-card">
      <div class="builder-left">
        <div class="builder-avatar">🥷</div>
        <div class="builder-name">Nikshep Doggalli</div>
        <div class="builder-role">Builder &amp; Creator</div>
      </div>
      <div class="builder-right">
        <div class="builder-bio">Building tools for intentional people. I make apps that respect your attention and help you do more with less noise. aellium is one of them.</div>
        <div class="builder-links">
          <a class="builder-link" href="https://instagram.com/nikkk.exe" target="_blank" rel="noopener">
            <span class="builder-link-icon">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><rect x="2" y="2" width="20" height="20" rx="5" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/><circle cx="17.5" cy="6.5" r="1" fill="currentColor"/></svg>
            </span>
            <div><div style="font-weight:700;">@nikkk.exe</div><div style="font-size:11px;color:rgba(255,255,255,.3);margin-top:1px;">instagram.com/nikkk.exe</div></div>
            <span class="builder-link-arr">↗</span>
          </a>
          <a class="builder-link" href="https://nikshep.vercel.app" target="_blank" rel="noopener">
            <span class="builder-link-icon">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/><path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z" stroke="currentColor" stroke-width="2"/></svg>
            </span>
            <div><div style="font-weight:700;">Portfolio</div><div style="font-size:11px;color:rgba(255,255,255,.3);margin-top:1px;">nikshep.vercel.app</div></div>
            <span class="builder-link-arr">↗</span>
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- ── NOTE FROM CREATOR ── -->
  <section class="lp-note-section" id="lp-note">
    <div style="text-align:center;margin-bottom:24px;font-size:11px;font-weight:800;letter-spacing:.18em;text-transform:uppercase;color:#fff;">Note from the creator</div>
    <div class="note-card">
      <div class="note-left">
        <div class="note-icon">📓</div>
        <div class="note-label">A personal note</div>
        <div class="note-tag">Why I built this</div>
      </div>
      <div class="note-right">
        <div class="note-title">I had 847 videos saved.<br>I watched zero of them.</div>
        <div class="note-body">
          <p>It started with YouTube Watch Later. Then Instagram saves. Then X bookmarks. I was collecting videos like they were trophies — <strong>saving content as a substitute for actually consuming it.</strong> The dopamine hit of saving felt like watching.</p>
          <p>I'd open my Watch Later at 11pm and feel overwhelmed. 400 videos. Where do I start? I'd close the tab and doom-scroll instead. The saved content became a <strong>graveyard of good intentions.</strong></p>
          <p>I looked for apps. Nothing fit. They were either too complex, too expensive, or only worked with YouTube. I wanted something dead simple — <strong>paste a link, set a date, actually watch it.</strong> With accountability baked in.</p>
          <p>So I built aellium in a weekend. Then kept improving it. The deadline system, the analytics, the punctuality score — all things I personally needed to fix my own habits. <strong>This app is me talking to my past self.</strong></p>
        </div>
        <div class="note-sig">
          <div class="note-sig-avatar">🥷</div>
          <div>
            <div class="note-sig-name">Nikshep Doggalli</div>
            <div class="note-sig-role">Builder & chronic video hoarder, Bangalore</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ── FINAL CTA BEFORE FOOTER ── -->
  <div style="position:relative;z-index:10;text-align:center;padding:20px 40px 100px;">
    <div style="font-size:clamp(32px,5vw,64px);font-weight:900;color:#fff;letter-spacing:-2px;line-height:1.1;margin-bottom:20px;">Stop hoarding.<br><span style="background:linear-gradient(135deg,#3b7eff,#a78bfa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;">Start watching.</span></div>
    <div style="font-size:16px;color:rgba(255,255,255,.38);margin-bottom:32px;font-weight:400;">Free. No credit card. Ready in 10 seconds.</div>
    <button class="lp-cta-btn" onclick="startOnboarding()" style="margin:0 auto;">
      Get started with aellium →
    </button>
    <div style="margin-top:16px;display:flex;align-items:center;justify-content:center;gap:20px;font-size:12px;color:rgba(255,255,255,.22);font-weight:500;">
      <span>✓ Free forever</span>
      <span>✓ No ads</span>
      <span>✓ 120+ platforms</span>
      <span>✓ Syncs everywhere</span>
    </div>
  </div>

  <!-- ── FOOTER BENTO ── -->
  <footer class="lp-footer">
    <div class="footer-bento">
      <div class="footer-top">
        <div class="footer-brand">
          <div class="footer-brand-logo"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABQCAIAAABd+SbeAAAbI0lEQVR42u18e7CdV3Xfeuy9v+875750JT9l2dj4Ib+wMZhiuwmJHfPwlADGDiHNTCFDIRRKUpIwpFAohUxCp8NMZpppkiYtLWna4LgFAnRCGAZMg8E2lmWwLduyZct6617d1znfa++1Vv/YR4IheLCDJbn0rrmj0b06uuf7ft/ev7XWb/32AViP9ViP9ViP9ViP9ViP9ViP9ViP9ViP9fjJCfzJuyGc3JSZAQAg5m/Wgf77XTceu3h7ViCeLNzxeY0gAD5jUJiZmapBMRgW3rulxbW6bosiDAZFStI0nYimJE8H/VE07Dg9AzzZmIJ9P65PCyKpKCCaGRF674oyVIMQgp+eHc7MDSVJNSyrqpiaG04NK+d4PGqOHF4ZDquiCn0fuy4tHFhUhb7rD+w7srZaM9N43Krq01wbAtgxiH58+PGkMdYPu/IQXFH6qelqamY4MzdEQkJkpmpQqthoXBeFL8vSBweosxumi1D0sa+GJQKKmKo45qLwzrGoDKqyqgZ106pKW/fjUcsMzLSyNGrb3tTWVuqm7paX144srIbCTU0PjhxeaZq+rtun22p/b8RP2op2jqtBcI4BQJKSo1NP37Dp1Nm5jdPVsESkUHgVRcpUgiLCjjOTqAogEWIIoe975yglYaKyLJAgBG8KKaWqKpjZDJnJOWem43FDRKNx7T0PqoqZ+y6uroxG41pEq6qIXRqt1SvL43rU7npsHyEOhmVTt0tLo6db+89foMsynL55ftOps3MbZ3zgrosqNjVTVlUJCMwu9dL1nQ+OiRCRmLquRwRHHghiH4P3gGAARfBEpKaEaGpFEZxnAAiFlyQxadd2PrgQ/HAwIKLp6am2aQ8cPOwcT08PVa2uW0nSdv1o3HjnQvBlVQTvAGC8VqvC7Ny0xLS8NNq75+AjD+4+dGg5xfT3uGs+wYw8v3H6yn9w4XkXbRnOVsNhiYxTU6UvgnccY48GKiKSzBTAQuGJyDERQlmWiCiSnCMiJkImFhUmNLOUBNC8d6o2PT3UJKNRnamWCKuiKEKoynJqOACwqanhYFCZGiIAWEpCRERQ191wqipDSCnFKPMb54qqADNDm5mb2nTq/KlnzA0H4cjiWnz2WPOJQhnN4LQz51963daZuaGZIQKYFcGrqqoUwYOZiACYc+idY2Lv2EBVBJGQDMxMzczKMjBzjL1jVlMVKauASERQlWEwGPR9HFTF3PTU9PTUoCrLEAZV5R175weD0rEL3nvnCCklJULnmIgcY1mEELzzjgjAyFQQSdViHwHAe950yqyq7tuz8Gy5gE8Uyja/cfql1140Oz8rSQBEVZ2jlJKZASgxVlVIUWIUJEAkYjJTx8yOidjMmBkQvHeIoKbOOec8MTrHiECEZVkaQIrRwIgJDL1zjp2agkHeEE3T1XXTti0RMZMpBO+LwgfvENE555nLwpdloSoGYKZlWZqBgUkSIJqbn9rz5KGm7hDxebeiyzL81I1XzswNY59C8CKJiYkpeMdMITgEFBVEIERAJCR2xMzEmEvAlMTUANBAmdh7x8xq4pwjQjNgJmZWU0RUVSICgxRjFEkpIpIPLiVZWl7Oz6yPMcbonZOUBmU1OzPNTJ69mTnHCEhEatb3se+jioYQuq6XJFVVMeGhg0s/tCo/mUAXhX/ptRfNb5pJUXxwqmoGolqWIfYRCR0RoRZFiF3vHHnv1cxUmVhVVc0xVVXRx97UvHc+uJSiqCGAgYEhIBAhM5sZGCACIIiqZ66q0jtHTDFGAOu6vm66rmvziy13RQjBuxiT957ZxZhENErquz4v867r1ZSQRASRNmyc7tru4P4jJxloIiRiRCQiRDz9jA0XXLKlKDwCIBiChuBzpcYMjokJnSNmDCGYmog6R0zEjtWMiIoiqAohFWUhkrx3hOSYEBEJEAwMVE3VEIAYg3PE3HWdY04iSVLbdWCmopmKJEkIHolSijFGABDRwaAUSXVdxyRt19Z165wry4GqIYJ33kCbulEV5/z09GD/noW2jc+QP44L0GZg3xcXv2jzKadNp9iZSYo9kRGZSBTpARTAzCKCMgOziSohIRgYmiqhseOu61XVMZtpTohqpirsWFUNgIjzDTNzTElV265j4jKE0bge103X9QjoHTOz974oAgCwYwAcN3WKqa6bcd00Tdv1vYp479h7dtj3fdf3TEjMpoKIAJRSdJ5n5wbjtWa01pyEOpoIVe2yyy66+mVXjtZGGfPzzj+jrLwaOCYRc47MjB0DGDMxASI4Jh+c4+LhnQ/v3be3rCoVICZmVMDJdZoRs4imFAHQOWdm3jvnHICJKCIiEjGCgYoVhSOiru9VFZGqskBEQhLR4aCqBqWp1m1f13URwsrqqI8pJ4jhsKqKkJK0XR9CMAMRyS2hiMYYiSjGXs0WDi7dc+eOwweXf3SD9pwXGAB2xZWX7Nr15K7Hn6qq8rTTT91270N1XSNRZk8EAELHzIw++BC4GoRNm6Yvv+Lsl7z4itidv/upx1N07IiJABEMVMWxU7OUkqoREQKYKREyU0riHIkkEWVmiIBI3jsDSyJN0wJAUYSu70V0ampYlAEQRBQBwSzG1PWxqiqzmtkhUS50FIWY+z4BmooVZUgxtV3HTKPxWFURaGZu+rKrzrvnb3esrdYnFOgcbdtuv+/BV73q+t1P7TnnBWcNh9UXv/CVp302BFPTxWWXnvayq17zylfdesfX/mrv/k1LqxaTiYKJGoKq9doTEWKuSgwsJwDKGYyQnHMAwky5MEfkpmmZ2DlWs6bpZmammHh1bTS/YbYoAgIVZYgxDodV2/UiqRqUktR775lUDZDLgtVsPGqIKPZJRBAgRmnaLu8w51xVFiG4E72iJ7+UXVEUT+5+asP8bIz9mWeejogheFUV0R/QZQip73Tv3tHnv/glQBnXfPDwatKgCjGpgBEiGBAzoo7HY1GZmZ5JKTZNMz09E4JfXhk75hACAKRk7AjNuq7P3XlRBCI6dGipabr5uVkwKIsCEUUkV/G5pWbHRNR1MXgfvBuPGyRyTGDgvJfM+20vIt77IoSUJGfRvovPpM7j55yjzeySSy84fGjxsceePHhwMaZ01ze31XUjIqr6d9Uv7xnMXHAHDh6p2x556v4HvlsUAzEzBBEFQGJW1bW1+tKLrjzvnAt379192qYzX3LFdU1Tr62tXX3lNTNT8wcPH0AERIwxmVnbdogEgClJCL4qi7mZ6aSCCEUIbduJqKoWoaiqUkwMIHjnHKsIM6sBM/cx9bFXFSJKKYmI8y4E33adqoEBEuzbffjJXYd+NDLHp+ow57ium8WFI9u+/d2FhSPM/LGPvf+T/+UPtl58QS77MqEzMyIh0mi13fvUyt69o75Lba9JtY8pxmQAMUnb9U3TLS2N3vHWd3zotz+0vNRcuvWK3/y1f3P2WS88fHjtff/i47/xrvcuL49TElWTJF3Xm5mqpphyuTIzPR2TLB5ZXlhcWlpZyXKJqYpIH2Ppi4IdGoABOepiVFHHDglVDJG6vutjBECJsjaq+5j6vldVJl5brZ+JdnpcqCPrtjmDM5OIvPyal3zgA78FMDdaW333u38719dmJiIiAgDOkYiO1jpRaJu+71LTNk3TqBkxTw2nsvpT13XbjOu6q5tGNUqSQ4cPvfvX39p0ddt2C0c6BKvKChCD913fj0ejsirNrGkPIOLUcKiaxvWYQGdnZol5cWlxXNeMND09jcRt14loVVXkcHVtzQCYfdu2XZ9yU5pFDyL2HiXJysqoHnfPiE6Pn8BhBgCW+4i3/9NfWlg48OST99xyy2s/8MHfXVlezXOTV7/6hosuOu/Bhx7967/+qhnEXkwBEQ8dPnLWmWdd/1NXTU3NPLbrsXu33+sCIhEi8tHdkAUQJDQyAxiNx9dees1ZZ77g7m13Lhw5OBhUw8H0NVf/7Np45ZGdD1x0/iUb50/99n13bTnrrIsvvCTGbveex/Yf3HvuORdtPmPLysrKjp0PJm2qsvIMCND1sU9JRZ1TAyMkAEjfNwyLMZlq7OKkjn6aUcbxBRq/j7JFZNOmjbfe+sZP/dn/+NKXvvqXt33uta995X/7s9vnNszedtuf3nD9Nffd990rrrz4s5/58i23vK3vEjEtLq3+6lvf/uvvfs+ep/YuLBz5529/x133bP/Axz7Yd6PcBZoZGAJgTDG46g8+8e8PHXrq5df/7E033vTqV775Pb/5lj37dyPCKRs2f+j9v7Ptvjvf8s63vP/XPnTNy6/75re+ueWszcOqmps/9eGH719cWnrRJZd3XbfxlNMf3/Xwx3//9yT1vhxkEaoqi9Go7rqOmFSVCFJK7LjrOknCzEUVVo6MxqNuMpE7KRydJ4CZi2/9hX9UVfOf/ORf3P6XX1haevydv/pPzOzd7/qVG66/8cVX3fjiF7/yRS/6ude//qabb75peXmtaZsrL7vqfe/9V3/ynz619SUvu+7GV//Ma1531Yuv+qVb33xkaZWIcm8ipgBGxKI6Wju0tLQkpqtra6IrSVLwLiUZjWrV1dF4tLxSLy0vi6THdu16/S++6bqfe+Xdd9950UWXp2g33XzzNTfccNvtnz7v3CsvufDy0XisIow0NSiL4Muy8N6nKF3f55zRNi0ChuBzau+6aM9s8nJ8VjQSIuU+Col+5a2/eGD/IyvLq1u2bP7aHXe87uffcP4F573kpZePR4ff8563l4Vv2g7A3fSa67/1rW2xl1dc9w/N2nPOPuvTn/qTsiwWF1a8k1dcey2jB1NQFRHIvGQKZkzMjIyYpwEqMB63Ken8TFb0SdWy5PQX//O2ciir4+bRnTuvvvqnb/vM7b2tzM6Hbdu333KzOea+T8H7CYIGZtB2nXeuAL82qlVVVPMS6vtIiKOVWs1yvjkZHH20Z1bVa6+9+sorL6tH46/f8ZksYCLiW97ypr7vReWJXU8UZUhJ/tm73rv9vgeGwyqmxMym6dChw4cXjhRFAWAf/Mi/PXj4kIimlPJmURUAJDymaAPk6RZgjFHVEHE8HueewntHxAAwPz+3Oj7EzD54AJmZmZqfm+v7OByWiKhqfdf3MYpoiqmPyQDBsOu6Pqb8JoSYmxdm6rp+/75FeCbEcRw5+uhb//Iv34zIb7z17Xv27GemUITPffaTP//aG77wv78yM7PpS3/z9W/eeQ8A/MKbXrdn74FBVQLY3d/eTrxh9569//oj/w4qQIDrf/q6cb0KZCKSREwtxphSRMQkElMEgJiSmam5TRs3LSwcKcvyFddcmgQRwDsWkZQEAfJf8pck6WOfRFNKKUVVTSIppZQkJTWAlCIiZLiD4ySooDFGVfXePbZz//KR0TO047jjw9FAhACw+awz3vnOt95xxze+/OU7jv3rn//3//W+3/roH//HP//sZz975ze+suOhe+fmZk4/44xXv+bND+947JRN83/4p//5i1/89Ic/+JFb3vCaXU/ufuF5L7h460s/9nsf/f0/+g8bN24YTs2LKDM5VwwGA1WYnduoqojw1a9/49Y3/uPf+fC/fNUNP7Np46azt5zj3HB+fj7GNDsz49zGlHQwKACsKArnZkIIsY9N2xehcG5QllWMqWnamBQAgg9E1LadqCKamalKjAkRnXeadOHASp6FPhOgj0tneOml5x84cHhxcXl+fm7Hjsf+8I/+68LC4tHeBB988OEHHvzO9vvu/8Qn/vjRnTvGdfPVr935trf9xrfvuX/L2WduvfjcHTsf/Nznv7R9+/1VWTkO3/nuwx/+6Ec//zdf9D60Y7n//u/cde/dXZcO7l/4xt1/e3jxUN/IHf/nW3sPPPHAjoe+fc82FZiamr7zrns+/LGPrywfuXvbvTseeaBr9LHHd9697VvsEiKNR3Hfvv333n/X6mi576Xt9Mji8rb772raERLnfN60bV7NMUYVI8Ik6pgQUNSWDq08/ui+Z27zeI5lUmYS0Vtuvem+bQ/s3Pnks31Il1x6wRtuufH2v7q9KgdPPnWgrntC9IFPOWV2empqZbXef2BRRM4958y10XhpZfUFZ59ZFOHxXXvZ8daLzimCe/jh3U3TGxiilWWxujresGF6y1mn7Xpif1O3W7eeMz1Vee8eefSppaXVSy4+d2ZmamlptLC4vLY2OuecM7ZsPr0oiqO8j4gIgH0fzRSJRaTrYnZL7XzgqUd37H0W+s9x6leIiGgisJnp97tPcq+RdQ9mzrsPAWOMxFkBhaLwF56/JYkiwnBYNk0fkwwGxbnnbja1FOPmzadu3fqCtu1iTOe/cAsTgZn37tJLz2NGMBuNmrrut2w+LQTHjFsvPNs5DsE1deu9u/CCLTHqcFAAIjOedurG88/bAggxCnPKSVvV8tSt63siIrIYBRFUdeHg2oF9S89OaDsuHK02GteqpioAf1fZMpEJ7j9g/+n6TicjFDMzBCCEvusRrfDOOwYA772oOsdmWhShLEPb9IA2NTUYDAoEJEJVreumLJ1zBGbMNDs7aNvYNh0AdG0sChf8ZMAYggezsnR9n5qmZaaj+gGaSRIQVVX1zqsaoWnURx/c8yMF6BMBdFWFl139op0bnmB2eWmYGgCYKUwU5dzKTBY40mQEdfnlW0MoVI2Zs4fGOUbE7L4ARVVLSZxjQuyjOKaZmSEY+OCGw3JQlYAgIpJkZnrYtl0SZSZCqOvuWHGJCH0v3qOIihjn3YfkvSeiGKNjNsAkAmaEyESi2vXRe7e6tPb4w5Ni42RawnLpft4Lt1xxxcWx79mx9zyYKorCUW4qEBHIAAjRDO2YY9MQEYuievTxR57a+8T0VJXXewgsaqZARIDovJNkAOY8s3NmUBauLIum6UJwRfBJZGVlVJUFotXjtm17dlQE1/eSdw8SI4D33kyz6anreuccsxORsiz6PmWXSEqam5GUVJJWg+LQviOPPvjU8tL4eeq9O23z9NzGYVEVyKSqpkaMXZ9imty8qgFYvpRBVUwNB2XhiEDVvGci6vtEzEl0MKwcc5ZPnXOFd+zJOwcASQQBvHf1uB3XbQiOEZumy6TfdRERERAIERHMmJkZQ/B9n1StKAIiImJ2iCFi3yUDM4OUpCjCypG1727btbpS/0j96ES24JhvDwCHw+L0MzdOzQ6ISRVM1Qcfk3DbTaqUpDFJZpK8IWJM7MgjIaGoGRgH59h5QCYys+GwAoCiDI55NKq7ph4My9inDKiqTk9Vlgv6Bro+MWfvEyGiiB51PGvfmxkURej7JKJEZKZJpGA6ptIhIREtHlx69KG9qyv1M6yaT5yBJmczQjzl9OmNp82yI1FQVUCMSZJIZkwzi0kAkAjZcZ7COGbnsrsFENEHj5A51FVVmZMVO2YiA0tJzKztYt9HM2Omvk/ZG9W2fdv0XRfVLHgPGWUD4rwKMM9uADCPu/oYnXNEnJJkT5qKOudWl0YPbd+9sjz+cQBxx5U0kLAaFoYQk2azB6ABZrOLQjZ6GTCjcw4AvHcpCTKZARiyY2YHQICWh2B9Hw0g9skx1dYm0eA5SxPEpGoxpiRqBinVKkrESKI6sZpkDSSnVs9sYFUZVK3r+qmpAQBkUQkJsybHjlMvCwdXRqP2x+0wjrfBkTLWmRaygctAzVSzoYmYJ0K+c6yqAGgGSESEzjvLv+Ko74CIUpIQHCC0XZ9EUxRAYqY85XPsmCnDTYjOMU68CfliKJtsACzzm3OOmRAnXOGcy2tA1QiRmNumf/yR/U3dPa+BNrO+k6LgclgAIucRp2qu8Zgxa2bZRhCjTAaJxEhITNn3hkSI4IjyVD//aQYi2vXJAIgJEIhIkqgaZPuTGhEe5VgyAyJynrMVhJmIyDv23mdlJltDOUc+hyCmaksLK3ueXDhW+D9vVzSYWl33IbhQuCSSKzkFI0JAlCTZeoGAuUfIE9uJ099xrhAmI2fEGAUQvWfv3bHeU83MQFUdOzBsuj6ftHDMcNRelL09hIgAaoaAeTp11LYGiOQc5/EuMwNgEunq/pEH9qyt1T8+DifCTarJmnEPAKH0k+4cUQ2+t7UnRkFEBCIiJkSC7MQlAiRREdGYhB0jYdt0KQkgeMeT1wNmCiZEcny07bR8kCvPvo72nPmRgirkWtNgkjOy2ddMRTSPlQ/sWdy18wA+FzXwCfJHi2hX9ybqAjMTIR0dTAAz5QNPmIkZMZ8YPOpHIETMjWV+nYiigZjFpAoGNpnoZK94lAlegGRHHWgZXTDIE3dCVDXA/HMwtfz+2ZKb29GsHC0cXDl8cBmfC6RP2NEKELFm3Mc2EiF78p6dYyR0zDDhRzo2E8pV7zHGmNRiiICoomiATAi5g0NQE7FslkY1AyRENMgniAxADVTEvm/mZDDpNhHomNSpYmaKiKaQyb7v48G9R56TE54nCOgsJ4hYjNI2fd9FU/OeXHBwdD2bZS1ikkWRKNPopHXGCY1L5pHsHQUwg6SafQ0GYGIyETQm/0NNTW3i2Zv8eNIZqVouRBCJ2WWFAIwAgBh9cPVau2/P4nNymPYEAX3UWw8AIMn6NvZt/F4FPSGAyVyGvheYJ6RIx5IlqSiYHiuZJ0az7Po/KvwRwFHCnVgyCAkmPC4Z8ExfjjnbARExj11zIvXBLS2s7dp5YG2l/n8J6B9Mj2opadv0sZdQOu9cZkwzy0VVtiRn3LOLwzKNAKiqioqYqoqIiImoGahatvmqiIkSkUguIbLsSflxM5H3PusVlCU6QFODLBsgOibneN+Th7ffvXNpce05G4nASQoD0KR9F03Mly7LEZM59/dW0ORYCiKIqKmJmiokkZgmznBTy9lSVZEmSsSkYgNEIhF1jo95pnJ+9Mym5rzLhU0RvMvHcpOuLo937tiz86G9fUzPoeZ2kj/dILdnZeXnTpmanh0UVYAJl0J2hiAhIeUzxoQgaiqiSaIqmOGkXcRj40pmDsEdMwdP2IOQkJIIAmajUz4yrmZ9F2MXV5fq0WqTUhqttfWoTT92e/K8A/p7moujsvLTc4OpmYoDqxgiOs/EHAqPACH4ELykpJZJQ1NKzI4IRPIBC8rtevY+s2OESXZFRGYX+3iURrAZt2vL9dLi2njc1qMu61DHd0nB8yYQkRiZiAgBgZnYUdYfAMExsZ8MDiSpJPHBASEdLXKJyHkqyyKmRAjOu1xduMD5zFbXxhSlqbvYp9Fa+4MuUPzRn2bxEwL0c3hLdqzRBMsNfRL9IR9PgEfTxXocl+eA6yisx3qsx3qsx3r8f1wL4HopsB7rsR7rsR7rsR7rsV6orcd6rMfJif8L8siEydRmfyYAAAAASUVORK5CYII=" alt="aellium" style="height:36px;width:auto;display:block;"></div>
          <div class="footer-brand-desc">Your personal video library with deadlines, playlists, and analytics. Built for intentional watching.</div>
          <div style="display:flex;gap:8px;">
            <a class="footer-social" href="https://instagram.com/nikkk.exe" target="_blank" rel="noopener">◈</a>
            <a class="footer-social" href="https://nikshep.vercel.app" target="_blank" rel="noopener">🌐</a>
          </div>
        </div>
        <div class="footer-col">
          <div class="footer-col-title">Product</div>
          <span class="footer-link" onclick="startOnboarding()">Get Started</span>
          <span class="footer-link" onclick="document.getElementById('lp-about').scrollIntoView({behavior:'smooth'})">Features</span>
          <span class="footer-link" onclick="document.getElementById('lp-builder').scrollIntoView({behavior:'smooth'})">About Builder</span>
        </div>
        <div class="footer-col">
          <div class="footer-col-title">Legal</div>
          <span class="footer-link" onclick="openInfoModal('privacy')">Privacy Policy</span>
          <span class="footer-link" onclick="openInfoModal('terms')">Terms of Use</span>
          <span class="footer-link" onclick="openInfoModal('cookie')">Cookie Policy</span>
        </div>
        <div class="footer-col">
          <div class="footer-col-title">Help</div>
          <span class="footer-link" onclick="openInfoModal('faq')">FAQ</span>
          <span class="footer-link" onclick="openInfoModal('contact')">Contact</span>
          <span class="footer-link" onclick="openInfoModal('hiw')">How it works</span>
        </div>
      </div>
      <div class="footer-bottom">
        <div class="footer-copy">© 2025 aellium · Built with ❤️ by Nikshep Doggalli</div>
        <div style="font-size:11px;color:rgba(255,255,255,.45);">No ads. No algorithm. Just your videos.</div>
      </div>
    </div>
  </footer>

  <!-- ── ONBOARDING MODAL ── -->
  <div class="onb-overlay" id="onb-overlay">
    <div class="onb-modal">
      <button class="onb-close" onclick="closeOnboarding()">✕</button>
      <div class="onb-dots" id="onb-dots">
        <div class="onb-dot active"></div>
        <div class="onb-dot"></div>
        <div class="onb-dot"></div>
        <div class="onb-dot"></div>
        <div class="onb-dot"></div>
        <div class="onb-dot"></div>
      </div>

      <div class="onb-card active" id="onb-0" style="display:block;">
        <img src="data:image/png;base64,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" alt="aellium" style="height:52px;width:auto;display:block;margin-bottom:4px;">
        <div class="onb-tag" style="background:rgba(123,143,239,.15);color:#8b9ef4;">WELCOME</div>
        <div class="onb-title">aellium is your video library</div>
        <div class="onb-text">Stop saving videos in tabs you'll never open. aellium gives every saved video a deadline — so you actually watch what matters.</div>
        <div class="onb-nav"><button class="onb-next" onclick="onbNext()">Next →</button></div>
      </div>

      <div class="onb-card" id="onb-1" style="display:none;">
        <span class="onb-icon">🌐</span>
        <div class="onb-tag" style="background:rgba(255,80,180,.12);color:#ff70cc;">PLATFORMS</div>
        <div class="onb-title">4 platforms, one library</div>
        <div class="onb-text">Paste any YouTube, Instagram, or X link — aellium auto-detects and saves it with thumbnail and metadata.</div>
        <div class="onb-viz">
          <div class="onb-plats">
            <div class="onb-plat" style="color:#ff453a;border-color:#ff453a30;background:#ff453a0d;">▶ YouTube</div>
            <div class="onb-plat" style="color:#e1306c;border-color:#e1306c30;background:#e1306c0d;">◈ Instagram</div>
            <div class="onb-plat" style="color:#aaa;border-color:#aaa3;background:rgba(255,255,255,.05);">✕ X</div>
          </div>
        </div>
        <div class="onb-nav">
          <button class="onb-back" onclick="onbPrev()">← Back</button>
          <button class="onb-next" onclick="onbNext()">Next →</button>
        </div>
      </div>

      <div class="onb-card" id="onb-2" style="display:none;">
        <span class="onb-icon">⏰</span>
        <div class="onb-tag" style="background:rgba(255,149,0,.12);color:#ff9f0a;">DEADLINES</div>
        <div class="onb-title">Set it. Watch it. On time.</div>
        <div class="onb-text">Every video gets a deadline. Green = fine. Orange = hurry. Red = you failed again.</div>
        <div class="onb-viz">
          <div class="onb-pbar-wrap">
            <div class="onb-prow" style="color:#30d158;">Rick Astley — Never Gonna…<div class="onb-ptrk"><div class="onb-pfill" style="width:100%;background:#30d158;"></div></div>14d</div>
            <div class="onb-prow" style="color:#ff9f0a;">PSY — Gangnam Style<div class="onb-ptrk"><div class="onb-pfill" style="width:40%;background:#ff9f0a;"></div></div>2d</div>
            <div class="onb-prow" style="color:#ff453a;">Ed Sheeran — Shape of You<div class="onb-ptrk"><div class="onb-pfill" style="width:100%;background:#ff453a;"></div></div>OVERDUE</div>
          </div>
        </div>
        <div class="onb-nav">
          <button class="onb-back" onclick="onbPrev()">← Back</button>
          <button class="onb-next" onclick="onbNext()">Next →</button>
        </div>
      </div>

      <div class="onb-card" id="onb-3" style="display:none;">
        <span class="onb-icon">📋</span>
        <div class="onb-tag" style="background:rgba(52,199,89,.12);color:#30d158;">PLAYLISTS</div>
        <div class="onb-title">Curate &amp; share playlists</div>
        <div class="onb-text">Group videos into playlists. Share via a URL — anyone who opens it gets the entire playlist imported instantly.</div>
        <div class="onb-viz">
          <div class="onb-pbar-wrap">
            <div class="onb-prow">⭐ Favorites<div class="onb-ptrk"><div class="onb-pfill" style="width:100%;background:#30d158;"></div></div>2/2</div>
            <div class="onb-prow">🎵 Music<div class="onb-ptrk"><div class="onb-pfill" style="width:67%;background:#3b7eff;"></div></div>2/3</div>
            <div class="onb-prow">📚 Learn<div class="onb-ptrk"><div class="onb-pfill" style="width:20%;background:#da8fff;"></div></div>1/5</div>
          </div>
        </div>
        <div class="onb-nav">
          <button class="onb-back" onclick="onbPrev()">← Back</button>
          <button class="onb-next" onclick="onbNext()">Next →</button>
        </div>
      </div>

      <div class="onb-card" id="onb-4" style="display:none;">
        <span class="onb-icon">📊</span>
        <div class="onb-tag" style="background:rgba(191,90,242,.14);color:#da8fff;">ANALYTICS</div>
        <div class="onb-title">Know your habits</div>
        <div class="onb-text">Area charts, watch trends, and a brutally honest punctuality score. It tells you exactly how bad you're doing.</div>
        <div class="onb-viz">
          <div class="onb-bars">
            <div class="onb-bar" style="height:30%;opacity:.5;"></div>
            <div class="onb-bar" style="height:55%;opacity:.65;"></div>
            <div class="onb-bar" style="height:40%;opacity:.6;"></div>
            <div class="onb-bar" style="height:80%;opacity:.8;"></div>
            <div class="onb-bar" style="height:60%;opacity:.7;"></div>
            <div class="onb-bar" style="height:100%;"></div>
            <div class="onb-bar" style="height:75%;opacity:.85;"></div>
          </div>
        </div>
        <div class="onb-nav">
          <button class="onb-back" onclick="onbPrev()">← Back</button>
          <button class="onb-next" onclick="onbNext()">Next →</button>
        </div>
      </div>

      <div class="onb-card" id="onb-5" style="display:none;">
        <span class="onb-icon">🔐</span>
        <div class="onb-tag" style="background:rgba(255,255,255,.08);color:rgba(255,255,255,.6);">ONE LAST STEP</div>
        <div class="onb-title">Why Google Sign-In?</div>
        <div class="onb-why-grid">
          <div class="onb-why-item"><span class="onb-why-icon">☁️</span><div><div class="onb-why-title">Cloud sync</div><div class="onb-why-desc">Your library lives in the cloud — access it from any device, any time.</div></div></div>
          <div class="onb-why-item"><span class="onb-why-icon">🔒</span><div><div class="onb-why-title">No passwords</div><div class="onb-why-desc">Google handles auth securely. We never see or store your password.</div></div></div>
          <div class="onb-why-item"><span class="onb-why-icon">📌</span><div><div class="onb-why-title">Saved forever</div><div class="onb-why-desc">Your videos, deadlines and playlists persist — nothing resets on refresh.</div></div></div>
          <div class="onb-why-item"><span class="onb-why-icon">🚫</span><div><div class="onb-why-title">Zero spam</div><div class="onb-why-desc">We only use your name and photo. No emails, no marketing, ever.</div></div></div>
        </div>
        <button class="onb-google-btn" onclick="signInWithGoogle()">
          <svg width="20" height="20" viewBox="0 0 18 18"><path d="M16.51 8H8.98v3h4.3c-.18 1-.74 1.48-1.6 2.04v2.01h2.6a7.8 7.8 0 0 0 2.38-5.88c0-.57-.05-.66-.15-1.18z" fill="#4285F4"/><path d="M8.98 17c2.16 0 3.97-.72 5.3-1.94l-2.6-2.01c-.72.48-1.63.68-2.7.68-2.09 0-3.85-1.4-4.48-3.3H1.83v2.07A8 8 0 0 0 8.98 17z" fill="#34A853"/><path d="M4.5 10.43A4.8 4.8 0 0 1 4.25 9c0-.5.09-.97.25-1.43V5.5H1.83A8 8 0 0 0 1 9c0 1.3.31 2.52.83 3.5l2.67-2.07z" fill="#FBBC05"/><path d="M8.98 3.58c1.16 0 2.2.4 3.02 1.19l2.26-2.26C12.95 1.19 11.14.5 8.98.5A8 8 0 0 0 1.83 5.5L4.5 7.57c.63-1.9 2.39-3.99 4.48-3.99z" fill="#EA4335"/></svg>
          Continue with Google
        </button>
        <div class="onb-note">🔐 Secured by Google · We never sell your data</div>
        <div class="onb-nav" style="margin-top:12px;">
          <button class="onb-back" onclick="onbPrev()">← Back</button>
        </div>
      </div>
    </div>
  </div>

</div>

<!-- ══════════════ APP ══════════════ -->
<div id="pg-app" class="page">

  <!-- APP HEADER — same style as landing page header -->
  <div class="island-wrap">
    <div class="island">
      <!-- Logo — matches LP logo exactly -->
      <a class="ilogo" href="#" onclick="goLanding(event)">
        <img src="data:image/png;base64,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" alt="aellium" style="height:28px;width:auto;display:block;">
      </a>

      <!-- YouTube-style nav tabs inline in island -->
      <div class="inav-item" id="feed-tab" onclick="setView('feed')">▶ Feed</div>

      <div class="inav-item" id="pl-tab" onclick="setView('all')">🏠 Home</div>

      <!-- Playlists dropdown nav -->
      <div class="inav-item" id="playlists-nav-tab" style="position:relative;">
        📋 Playlists <span style="font-size:10px;opacity:.5;margin-left:2px;">▾</span>
        <div class="inav-dd" id="inav-pl-dd">
          <div class="inav-dd-lbl">Your Playlists</div>
          <div id="inav-pl-items"><!-- filled by renderSidebar --></div>
          <div class="inav-ddi" onclick="event.stopPropagation();openNewPlaylist()" style="color:var(--acc);font-weight:600;">
            <span style="width:22px;text-align:center;font-size:16px;">+</span> New Playlist
          </div>
        </div>
      </div>

      <div class="inav-item" id="nav-analytics-tab" onclick="setView('analytics')">📊 Analytics</div>

      <div class="island-sp"></div>

      <!-- macOS Spotlight-style Search -->
      <div class="isearch-wrap">
        <div id="search-btn" class="isearch-btn" onclick="toggleSearch()" title="Search  ⌘K">⌕</div>
        <div id="search-box" class="isearch-box" style="display:none;">
          <span style="font-size:15px;opacity:.5;color:var(--t2);">⌕</span>
          <input id="search-input" placeholder="Search videos…" oninput="onSearch(this.value)" onkeydown="if(event.key==='Escape')closeSearch();"/>
          <kbd class="isearch-kbd">ESC</kbd>
          <button class="isearch-close" onclick="closeSearch()">✕</button>
        </div>
        <div class="search-results-drop" id="search-results" style="display:none;"></div>
      </div>


      <!-- Dark toggle -->
      <button class="dtog" onclick="toggleDark()" title="Toggle theme">
        <div class="tknob" id="tknob">🌙</div>
      </button>

      <!-- Reset Demo -->
      <button class="btn-reset-demo" onclick="resetDemoData()" title="Reset demo data">↺ Reset Demo</button>

      <!-- Add Video — primary button same as LP -->
      <button class="btn-addvid" onclick="openAdd()">+ Add Video</button>

      <!-- User Avatar -->
      <div id="user-avatar-wrap" style="display:flex;align-items:center;gap:8px;cursor:pointer;" onclick="signOutUser()" title="Sign out">
        <img id="user-avatar-img" src="" alt="" style="width:28px;height:28px;border-radius:50%;object-fit:cover;border:2px solid rgba(255,255,255,.2);display:none;">
        <span id="user-avatar-fallback" style="width:28px;height:28px;border-radius:50%;background:var(--acc);display:none;align-items:center;justify-content:center;font-size:13px;font-weight:700;color:#fff;"></span>
      </div>

      <!-- Builder -->
      <button class="btn-builder" onclick="toggleBC()">builder 🥷</button>
    </div>
  </div>

  <!-- Builder Card -->
  <div class="bcov" id="bcov" onclick="closeBC()">
    <div class="bcard" onclick="event.stopPropagation()">
      <div class="bc-ban"><div class="bc-av">🥷</div></div>
      <div class="bc-body">
        <div class="bc-name">Nikshep Doggalli</div>
        <div class="bc-role">⚡ Builder &amp; Creator</div>
        <a class="bc-link" href="https://instagram.com/nikkk.exe" target="_blank" rel="noopener">
          <span>◈</span><span>instagram.com/nikkk.exe</span><span style="margin-left:auto;font-size:10px;opacity:.4;">↗</span>
        </a>
      </div>
    </div>
  </div>

  <div class="app-body">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="sb-scroll">
        <div class="sb-lbl">Menu</div>
        <div class="sb-item active" id="nav-all" onclick="setView('all')">
          <div class="sb-ico">🏠</div>
          <span class="sb-label">Home</span>
          <span class="sb-cnt" id="all-cnt">0</span>
        </div>
        <div class="sb-item" id="nav-feed" onclick="setView('feed')">
          <div class="sb-ico">▶</div>
          <span class="sb-label">Feed</span>
        </div>
        <div class="sb-item" id="nav-analytics" onclick="setView('analytics')">
          <div class="sb-ico">📊</div>
          <span class="sb-label">Analytics</span>
        </div>

        <div class="sb-lbl">Playlists</div>
        <div id="pl-nav"></div>

        <div class="sb-item" onclick="openNewPlaylist()" style="color:var(--acc);">
          <div class="sb-ico" style="background:var(--acl);color:var(--acc);">+</div>
          <span class="sb-label" style="font-weight:600;">New Playlist</span>
        </div>

        <div class="sb-lbl">Library</div>
        <div class="sb-item" onclick="setFilterQuick('watched')">
          <div class="sb-ico">✓</div>
          <span class="sb-label">Watched</span>
          <span class="sb-cnt" id="watched-cnt">0</span>
        </div>
        <div class="sb-item" id="nav-due" onclick="setFilterQuick('due')" style="display:none;">
          <div class="sb-ico">🔥</div>
          <span class="sb-label">Due Soon</span>
          <span class="sb-cnt" id="due-cnt" style="background:rgba(255,69,58,.15);color:var(--red);">0</span>
        </div>
      </div>
      <div class="sb-footer">
        <button class="sb-add-btn" onclick="openAdd()">+ Add Video</button>
      </div>
    </aside>

    <!-- MAIN -->
    <main class="main" id="main-area">
      <!-- VIDEO VIEW -->
      <div id="video-view" style="display:flex;flex-direction:column;flex:1;overflow:hidden;">
        <div class="topbar">
          <span class="tb-title" id="view-title">Home</span>
          <span class="tb-count" id="view-count"></span>
          <div style="flex:1;"></div>
          <div class="filter-tabs" id="filter-tabs">
            <button class="ftab active" onclick="setFilter('all',this)">All</button>
            <button class="ftab" onclick="setFilter('unwatched',this)">Unwatched</button>
            <button class="ftab" onclick="setFilter('watched',this)">✓ Watched</button>
          </div>
          <button id="import-btn" onclick="openImport()" style="display:none;padding:6px 12px;background:var(--s3);border:1px solid var(--bs);border-radius:8px;font-family:var(--sf);font-size:12.5px;font-weight:600;color:var(--t2);cursor:pointer;white-space:nowrap;">📥 Import</button>
          <button id="share-pl-btn" onclick="shareCurrent()" style="display:none;padding:6px 12px;background:var(--s3);border:1px solid var(--bs);border-radius:8px;font-family:var(--sf);font-size:12.5px;font-weight:600;color:var(--t2);cursor:pointer;white-space:nowrap;">🔗 Share</button>
        </div>
        <div class="content" id="content-area">
          <div id="due-banner"></div>
          <div id="pl-stats"></div>
          <div class="vgrid" id="vgrid"></div>
          <div class="empty" id="empty-state" style="display:none;">
            <div class="empty-ico">🎬</div>
            <div class="empty-title" id="empty-title">No videos yet</div>
            <div class="empty-txt" id="empty-text">Add videos from YouTube, Instagram, X and 120+ platforms.</div>
            <button class="btn-empty" onclick="openAdd()">Add Video</button>
          </div>
        </div>
      </div>
      <!-- ANALYTICS VIEW -->
      <div id="analytics-view" style="display:none;flex:1;overflow:hidden;flex-direction:column;">
        <div class="topbar"><span class="tb-title">Analytics</span></div>
        <div class="an-wrap" id="an-wrap"></div>
      </div>
    </main>
  </div>

  <footer class="app-footer">
    <span><strong style="color:var(--t2)">aellium</strong> — watch intentionally</span>
    <span>Built by <strong style="color:var(--t2)">Nikshep Doggalli</strong> · <a href="https://instagram.com/nikkk.exe" target="_blank" style="color:var(--t3);text-decoration:none;">◈ nikkk.exe</a></span>
    <span>🥷 builder</span>
  </footer>
</div>

<!-- ══ ADD VIDEO ══ -->
<div class="mov" id="add-modal" style="display:none" onclick="if(event.target===this)closeAdd()">
  <div class="modal">
    <div class="mhd"><div class="mtitle">Add Video</div><div class="msub">Paste a link and set your watch deadline.</div></div>
    <div class="mbody">
      <div class="ff"><label class="fl">Video URL</label><input class="fi" id="add-url" placeholder="https://youtube.com/watch?v=…" oninput="hideAddErr()" onkeydown="if(event.key==='Enter')addVideo()"/><div class="ferr" id="add-err"></div></div>
      <div class="ff"><label class="fl">Title <span style="color:var(--t3);font-weight:400;">(optional)</span></label><input class="fi" id="add-title" placeholder="e.g. Tutorial I need to watch" onkeydown="if(event.key==='Enter')addVideo()"/></div>
      <div class="ff"><label class="fl">Watch Before — Deadline</label><input class="fi" id="add-dl" type="date"/></div>
      <div class="pchips">
        <span class="pchip" style="color:#ff3b30;border-color:#ff3b3030;background:#ff3b3008;">▶ YouTube</span>
        
        <span class="pchip" style="color:#e1306c;border-color:#e1306c30;background:#e1306c08;">◈ Instagram</span>
        <span class="pchip" style="color:var(--t1);border-color:var(--bs);background:var(--s3);">✕ X</span>
      </div>
    </div>
    <div class="mft"><button class="btn-cancel" onclick="closeAdd()">Cancel</button><button class="btn-ok" onclick="addVideo()">Add Video</button></div>
  </div>
</div>

<!-- ══ NEW PLAYLIST ══ -->
<div class="mov" id="npl-modal" style="display:none" onclick="if(event.target===this)closeNPL()">
  <div class="glass-modal">
    <div class="mhd" style="text-align:center;padding:28px 28px 0;">
      <div class="mtitle" style="font-size:21px;">✨ New Playlist</div>
      <div class="msub">Give your collection a name.</div>
    </div>
    <div class="mbody" style="padding:20px 28px;">
      <div class="ff"><label class="fl">Playlist Name</label><input class="fi" id="npl-name" placeholder="e.g. Design Tutorials, Weekend Watch…" onkeydown="if(event.key==='Enter')createPL()"/></div>
      <div class="ff"><label class="fl">Emoji</label><input class="fi" id="npl-emoji" placeholder="🎬 📚 🎯 🔥 …" maxlength="4"/></div>
    </div>
    <div class="mft" style="padding:0 28px 28px;justify-content:center;"><button class="btn-cancel" onclick="closeNPL()">Cancel</button><button class="btn-ok" style="min-width:140px;" onclick="createPL()">Create Playlist</button></div>
  </div>
</div>

<!-- ══ PLAYER ══ -->
<div class="mov" id="player-modal" style="display:none" onclick="if(event.target===this)closePlayer()">
  <div class="pmod">
    <div class="ptbar">
      <div class="pdot" id="pdot"></div>
      <div class="ptitle-txt" id="ptitle"></div>
      <a class="purl-a" id="purl" href="#" target="_blank" rel="noopener noreferrer"></a>
      <button class="pclose" onclick="closePlayer()">✕</button>
    </div>
    <div class="pfw"><iframe id="piframe" allow="autoplay;fullscreen;encrypted-media;picture-in-picture" allowfullscreen></iframe></div>
    <div class="pibar">
      <div class="pititle" id="pititle"></div>
      <button class="btn-pmark" onclick="markWatched(currentPlayingId)">✓ Mark Watched</button>
      <a class="btn-popen" id="polink" href="#" target="_blank" rel="noopener noreferrer">↗ Open</a>
    </div>
  </div>
</div>

<!-- ══ CONFIRM ══ -->
<div class="mov" id="cm-modal" style="display:none">
  <div class="cm-mod">
    <div id="cm-icon" style="font-size:40px;margin-bottom:14px;">🗑</div>
    <div id="cm-title" style="font-size:17px;font-weight:700;color:var(--t1);margin-bottom:7px;letter-spacing:-.3px;">Delete?</div>
    <div id="cm-text" style="font-size:13.5px;color:var(--t2);line-height:1.55;margin-bottom:22px;">This cannot be undone.</div>
    <div style="display:flex;gap:10px;">
      <button class="btn-cancel" style="flex:1;" onclick="closeCM()">Cancel</button>
      <button class="btn-danger" id="cm-ok">Delete</button>
    </div>
  </div>
</div>

<!-- ══ SHARE ══ -->
<div class="mov" id="share-modal" style="display:none" onclick="if(event.target===this)closeShareModal()">
  <div class="modal" style="width:460px;">
    <div class="mhd"><div class="mtitle">🔗 Share Playlist</div><div class="msub" id="share-pl-name">Share this playlist with anyone.</div></div>
    <div class="mbody">
      <p style="font-size:13px;color:var(--t2);margin-bottom:8px;">This URL encodes your entire playlist — no server needed:</p>
      <div class="share-row"><input class="share-inp" id="share-url-input" readonly/><button class="btn-copy" onclick="copyShareUrl()">Copy</button></div>
      <p style="font-size:11px;color:var(--t3);margin-top:10px;">ℹ️ Anyone opening this link will get the playlist auto-imported.</p>
    </div>
    <div class="mft"><button class="btn-cancel" onclick="closeShareModal()">Done</button></div>
  </div>
</div>

<!-- ══ IMPORT ══ -->
<div class="mov" id="import-modal" style="display:none" onclick="if(event.target===this)closeImport()">
  <div class="modal" style="width:560px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;">
    <div class="mhd"><div class="mtitle">📥 Import from YouTube</div><div class="msub">Paste a video URL or playlist URL to bulk-import.</div></div>
    <div class="mbody" style="overflow-y:auto;flex:1;">
      <div class="ff">
        <label class="fl">YouTube URL</label>
        <input class="fi" id="import-url" placeholder="https://youtube.com/watch?v=… or /playlist?list=…" oninput="onImportUrlChange()"/>
        <div class="ferr" id="import-err"></div>
        <div class="finfo" id="import-info"></div>
      </div>
      <div id="import-manual-wrap" style="display:none;">
        <div class="ff">
          <label class="fl">Paste video URLs — one per line</label>
          <div style="font-size:12px;color:var(--t3);margin-bottom:8px;line-height:1.5;">Open the playlist on YouTube, right-click each video → Copy link. Paste all URLs below (or bare 11-char video IDs).</div>
          <textarea class="fi" id="import-manual-ta" rows="5" placeholder="https://youtube.com/watch?v=dQw4w9WgXcQ&#10;https://youtube.com/watch?v=9bZkp7q19f0&#10;…" style="resize:vertical;font-size:13px;line-height:1.6;"></textarea>
        </div>
        <button onclick="parseManualUrls()" style="width:100%;padding:10px;background:var(--s3);border:1px solid var(--bs);border-radius:10px;font-family:var(--sf);font-size:13.5px;font-weight:700;color:var(--t1);cursor:pointer;margin-bottom:12px;transition:background .15s;" onmouseenter="this.style.background='var(--b)'" onmouseleave="this.style.background='var(--s3)'">Parse URLs →</button>
      </div>
      <div id="import-preview" style="display:none;">
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;">
          <span style="font-size:12.5px;font-weight:700;color:var(--t2);" id="import-count-lbl"></span>
          <button onclick="toggleAllImport()" style="font-size:12px;color:var(--acc);background:none;border:none;cursor:pointer;font-family:var(--sf);font-weight:600;" id="toggle-all-btn">Deselect All</button>
        </div>
        <div style="font-size:11.5px;color:var(--t3);margin-bottom:10px;">Edit titles before importing if you like.</div>
        <div id="import-list"></div>
      </div>
    </div>
    <div class="mft" style="flex-shrink:0;"><button class="btn-cancel" onclick="closeImport()">Cancel</button><button class="btn-ok" id="import-btn-ok" onclick="doImport()" style="display:none;">Import</button></div>
  </div>
</div>

<!-- ══ EXTEND DEADLINE MODAL ══ -->
<div class="mov" id="extend-modal" style="display:none" onclick="if(event.target===this)closeExtend()">
  <div class="cm-mod" style="width:380px;text-align:left;">
    <div style="font-size:22px;margin-bottom:12px;">⏱</div>
    <div style="font-size:17px;font-weight:700;color:var(--t1);margin-bottom:5px;">Extend Deadline</div>
    <div style="font-size:13px;color:var(--t2);margin-bottom:18px;" id="extend-vid-title">Extend deadline for this video.</div>
    <label class="fl">Add how many days?</label>
    <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:14px;" id="extend-day-btns">
      <button class="ext-d-btn" data-d="3" onclick="selectExtend(3,this)">+3 days</button>
      <button class="ext-d-btn" data-d="7" onclick="selectExtend(7,this)">+7 days</button>
      <button class="ext-d-btn" data-d="14" onclick="selectExtend(14,this)">+14 days</button>
      <button class="ext-d-btn" data-d="30" onclick="selectExtend(30,this)">+30 days</button>
    </div>
    <div class="ff"><label class="fl">Or pick a new date directly</label><input class="fi" id="extend-date" type="date"/></div>
    <div style="display:flex;gap:10px;margin-top:6px;">
      <button class="btn-cancel" style="flex:1;" onclick="closeExtend()">Cancel</button>
      <button style="flex:1;padding:10px;background:var(--org);border:none;border-radius:9px;font-family:var(--sf);font-size:14px;font-weight:700;color:#fff;cursor:pointer;" onclick="doExtend()">Extend</button>
    </div>
  </div>
</div>
<style>
.ext-d-btn{padding:5px 14px;border-radius:9px;font-size:13px;font-weight:700;border:1.5px solid var(--b);background:transparent;color:var(--t2);cursor:pointer;font-family:var(--sf);transition:all .15s;}
.ext-d-btn.sel{border-color:var(--org);background:rgba(255,149,0,.12);color:var(--org);}
</style>

<!-- TOAST -->
<div class="toast" id="toast"></div>

<script>
/* ══════════════════════════════════════════
   PLATFORMS & UTILS
══════════════════════════════════════════ */
const PLATS={
  youtube:{name:'YouTube',color:'#ff3b30',icon:'▶',embed:id=>`https://www.youtube.com/embed/${id}?autoplay=1&rel=0`,thumb:id=>`https://img.youtube.com/vi/${id}/hqdefault.jpg`},
  xhamster:{name:'xHamster',color:'#f5a623',icon:'✦',embed:id=>`https://xhamster.com/embed/${id}`,thumb:()=>null},
  instagram:{name:'Instagram',color:'#e1306c',icon:'◈',embed:id=>`https://www.instagram.com/p/${id}/embed/`,thumb:()=>null},
  twitter:{name:'X',color:'#888',icon:'✕',embed:()=>null,thumb:()=>null}
};
const PATS=[
  {k:'youtube',re:/(?:youtube\.com\/watch\?v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/},
  {k:'xhamster',re:/xhamster\d*\.com\/videos\/[^/?#]+-(\d+)/},
  {k:'instagram',re:/instagram\.com\/(?:p|reel)\/([A-Za-z0-9_-]+)/},
  {k:'twitter',re:/(?:twitter|x)\.com\/\w+\/status\/(\d+)/}
];
const det=url=>{for(const{k,re}of PATS){const m=url.match(re);if(m)return{platform:k,id:m[1]};}return null;};
const uid=()=>Math.random().toString(36).slice(2,9);
const esc=s=>String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');
const surl=u=>{try{const o=new URL(u);return o.hostname+o.pathname.slice(0,24)+(o.pathname.length>24?'…':'');}catch{return u;}};
const fd=d=>{const x=new Date();x.setDate(x.getDate()+d);return x.toISOString().split('T')[0];};
const ts=(da=0,ho=0)=>{const d=new Date();d.setDate(d.getDate()-da);d.setHours(d.getHours()-ho);return d.toISOString();};
function dlInfo(ds){
  if(!ds)return null;
  const t=new Date();t.setHours(0,0,0,0);
  const d=new Date(ds);d.setHours(0,0,0,0);
  const days=Math.round((d-t)/86400000);
  let color,bg,label;
  if(days<0){color='var(--red)';bg='rgba(255,69,58,.12)';label=`${Math.abs(days)}d overdue`;}
  else if(days===0){color='var(--red)';bg='rgba(255,69,58,.12)';label='Due today!';}
  else if(days<=2){color='var(--org)';bg='rgba(255,159,10,.12)';label=`${days}d left`;}
  else if(days<=7){color:'var(--yel)';bg='rgba(255,214,10,.1)';label=`${days}d left`;}
  else{color='var(--grn)';bg='rgba(50,215,75,.1)';label=`${days}d left`;}
  return{color,bg,label,days,display:new Date(ds).toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'})};
}

/* ══════════════════════════════════════════
   DATA
══════════════════════════════════════════ */
let videos=[
  {id:'v1',url:'https://www.youtube.com/watch?v=dQw4w9WgXcQ',platform:'youtube',platformId:'dQw4w9WgXcQ',title:'Rick Astley — Never Gonna Give You Up',deadline:fd(1),watched:false,watchedAt:null},
  {id:'v2',url:'https://www.youtube.com/watch?v=9bZkp7q19f0',platform:'youtube',platformId:'9bZkp7q19f0',title:'PSY — GANGNAM STYLE',deadline:fd(5),watched:false,watchedAt:null},
  {id:'v3',url:'https://www.youtube.com/watch?v=kJQP7kiw5Fk',platform:'youtube',platformId:'kJQP7kiw5Fk',title:'Luis Fonsi — Despacito ft. Daddy Yankee',deadline:fd(20),watched:false,watchedAt:null},
  {id:'v4',url:'https://www.youtube.com/watch?v=JGwWNGJdvx8',platform:'youtube',platformId:'JGwWNGJdvx8',title:'Ed Sheeran — Shape of You',deadline:fd(-2),watched:true,watchedAt:ts(3)},
  {id:'v5',url:'https://www.youtube.com/watch?v=hT_nvWreIhg',platform:'youtube',platformId:'hT_nvWreIhg',title:'OneRepublic — Counting Stars',deadline:fd(-5),watched:true,watchedAt:ts(8)},
  {id:'v6',url:'https://www.youtube.com/watch?v=OPf0YbXqDm0',platform:'youtube',platformId:'OPf0YbXqDm0',title:'Mark Ronson — Uptown Funk ft. Bruno Mars',deadline:fd(3),watched:false,watchedAt:null},
];
let playlists=[
  {id:'p1',name:'Favorites',emoji:'⭐',videoIds:['v1','v3']},
  {id:'p2',name:'Music',emoji:'🎵',videoIds:['v4','v5','v6']}
];
let watchHistory=[
  {vidId:'v4',watchedAt:ts(0,2),onTime:true,deadline:fd(-2)},
  {vidId:'v5',watchedAt:ts(1),onTime:false,deadline:fd(-5)},
  {vidId:'v4',watchedAt:ts(2),onTime:true,deadline:null},
  {vidId:'v5',watchedAt:ts(3),onTime:false,deadline:null},
  {vidId:'v4',watchedAt:ts(4),onTime:true,deadline:null},
  {vidId:'v5',watchedAt:ts(6),onTime:true,deadline:null},
  {vidId:'v4',watchedAt:ts(8),onTime:false,deadline:null},
];


let currentView='all';
let currentFilter='all';
let isDark=true;
let currentPlayingId=null;
let chartInstance=null;
let chartPeriod='week';
let parsedImportVideos=[];
let importSelected=[];
let extendVidId=null;
let extendDays=7;
let openDD=null; // id of currently open dropdown

/* ══════════════════════════════════════════
   PAGE NAV
══════════════════════════════════════════ */
function openApp(){
  document.getElementById('pg-landing').classList.remove('active');
  const ap=document.getElementById('pg-app');
  ap.classList.add('active');
  document.documentElement.setAttribute('data-theme','dark');
  isDark=true;
  document.getElementById('tknob').textContent='🌙';
  const hash=window.location.hash;
  if(hash.startsWith('#data=')){try{importSharedPlaylist(hash.slice(6));}catch(e){}}
  render();
}
function goLanding(e){
  e.preventDefault();
  document.getElementById('pg-app').classList.remove('active');
  document.getElementById('pg-landing').classList.add('active');
}

/* ══════════════════════════════════════════
   DARK MODE
══════════════════════════════════════════ */
function toggleDark(){
  isDark=!isDark;
  document.documentElement.setAttribute('data-theme',isDark?'dark':'light');
  const knob=document.getElementById('tknob');if(knob)knob.textContent=isDark?'🌙':'☀️';
  const lpbtn=document.getElementById('lp-theme-btn');if(lpbtn)lpbtn.textContent=isDark?'🌙':'☀️';
  if(chartInstance)rebuildChart();
}

/* ══════════════════════════════════════════
   SEARCH
══════════════════════════════════════════ */
let searchActive=false;
function toggleSearch(){
  searchActive=!searchActive;
  document.getElementById('search-btn').style.display=searchActive?'none':'flex';
  document.getElementById('search-box').style.display=searchActive?'flex':'none';
  if(!searchActive){document.getElementById('search-results').style.display='none';document.getElementById('search-input').value='';}
  else{setTimeout(()=>document.getElementById('search-input').focus(),60);}
}
function closeSearch(){
  searchActive=false;
  document.getElementById('search-btn').style.display='flex';
  document.getElementById('search-box').style.display='none';
  document.getElementById('search-results').style.display='none';
  document.getElementById('search-input').value='';
  renderGrid();
}
function onSearch(q){
  const res=document.getElementById('search-results');
  if(!q.trim()){res.style.display='none';renderGrid();return;}
  const lower=q.toLowerCase();
  const hits=videos.filter(v=>v.title.toLowerCase().includes(lower)||v.url.toLowerCase().includes(lower));
  if(!hits.length){res.innerHTML='<div style="padding:14px 16px;font-size:13px;color:var(--t3);">No videos match "'+esc(q)+'"</div>';res.style.display='block';renderGrid();return;}
  res.innerHTML=hits.slice(0,6).map(v=>{
    const p=PLATS[v.platform];const thumb=p.thumb(v.platformId);
    return`<div class="sr-item" onclick="play('${v.id}')">
      <div class="sr-thumb">${thumb?`<img src="${thumb}" alt="" onerror="this.style.display='none'">`:`<div style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:13px;">${p.icon}</div>`}</div>
      <div style="flex:1;min-width:0;"><div style="font-size:13px;font-weight:600;color:var(--t1);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;">${esc(v.title)}</div><div style="font-size:11px;color:var(--t3);">${p.name}</div></div>
    </div>`;
  }).join('');
  res.style.display='block';
}



/* ══════════════════════════════════════════
   VIEW ROUTING
══════════════════════════════════════════ */
function setView(v){
  currentView=v;
  currentFilter='all';
  document.querySelectorAll('.ftab').forEach(t=>t.classList.remove('active'));
  document.querySelector('.ftab')?.classList.add('active');
  const isAn=v==='analytics';
  document.getElementById('video-view').style.display=isAn?'none':'flex';
  document.getElementById('analytics-view').style.display=isAn?'flex':'none';
  if(isAn)renderAnalytics();
  const isPL=v!=='all'&&v!=='feed'&&v!=='analytics';
  document.getElementById('share-pl-btn').style.display=isPL?'':'none';
  document.getElementById('import-btn').style.display=(v==='all'||v==='feed')?'':'none';
  render();
}
function setFilter(f,btn){
  currentFilter=f;
  document.querySelectorAll('.ftab').forEach(t=>t.classList.remove('active'));
  btn.classList.add('active');
  renderGrid();
}
function setFilterQuick(f){
  if(f==='due'){setView('all');currentFilter='all';}
  else if(f==='watched'){setView('all');currentFilter='watched';document.querySelectorAll('.ftab').forEach(t=>t.classList.remove('active'));document.querySelectorAll('.ftab')[2]?.classList.add('active');}
  renderGrid();
}

/* ══════════════════════════════════════════
   RENDER SIDEBAR
══════════════════════════════════════════ */
function renderSidebar(){
  document.getElementById('all-cnt').textContent=videos.length;
  const wc=videos.filter(v=>v.watched).length;
  document.getElementById('watched-cnt').textContent=wc;
  // due soon count
  const today=new Date();today.setHours(0,0,0,0);
  const dueCnt=videos.filter(v=>{if(v.watched||!v.deadline)return false;const d=new Date(v.deadline);d.setHours(0,0,0,0);return Math.round((d-today)/86400000)<=3;}).length;
  document.getElementById('due-cnt').textContent=dueCnt;
  document.getElementById('nav-due').style.display=dueCnt>0?'flex':'none';

  // Island nav tab active states
  ['feed-tab','pl-tab','nav-analytics-tab','playlists-nav-tab'].forEach(id=>{
    const el=document.getElementById(id);if(!el)return;
    el.classList.remove('active');
  });
  if(currentView==='feed'){const e=document.getElementById('feed-tab');if(e)e.classList.add('active');}
  else if(currentView==='all'){const e=document.getElementById('pl-tab');if(e)e.classList.add('active');}
  else if(currentView==='analytics'){const e=document.getElementById('nav-analytics-tab');if(e)e.classList.add('active');}
  else{const e=document.getElementById('playlists-nav-tab');if(e)e.classList.add('active');}

  // sidebar active states
  ['all','feed','analytics'].forEach(id=>{
    const el=document.getElementById('nav-'+id);
    if(el)el.className='sb-item'+(currentView===id?' active':'');
  });

  // playlists — render in both sidebar and island dropdown
  const plHtml=playlists.map(pl=>{
    const done=pl.videoIds.filter(id=>{const v=videos.find(x=>x.id===id);return v&&v.watched;}).length;
    const pct=pl.videoIds.length?Math.round(done/pl.videoIds.length*100):0;
    return`<div class="sb-item ${currentView===pl.id?'active':''}" id="si-${pl.id}" onclick="setView('${pl.id}')">
      <div class="sb-ico">${pl.emoji||'📋'}</div>
      <div style="flex:1;min-width:0;">
        <div class="sb-label">${esc(pl.name)}</div>
        <div class="sb-pbar"><div class="sb-pfill" style="width:${pct}%;"></div></div>
      </div>
      <span class="sb-cnt">${pl.videoIds.length}</span>
      <button class="pl-del-btn" onclick="event.stopPropagation();confirmDelPL('${pl.id}','${esc(pl.name)}')">✕</button>
    </div>`;
  }).join('');
  document.getElementById('pl-nav').innerHTML=plHtml;

  // Island dropdown playlist items
  const islandPlEl=document.getElementById('inav-pl-items');
  if(islandPlEl){
    islandPlEl.innerHTML=playlists.length===0
      ?'<div class="inav-ddi" style="color:var(--t3);cursor:default;font-size:12px;">No playlists yet</div>'
      :playlists.map(pl=>`<div class="inav-ddi ${currentView===pl.id?'active':''}" onclick="event.stopPropagation();setView('${pl.id}')">
        <span style="width:22px;text-align:center;">${pl.emoji||'📋'}</span>
        <span style="flex:1;">${esc(pl.name)}</span>
        <span style="font-size:11px;opacity:.4;">${pl.videoIds.length}</span>
      </div>`).join('');
  }
}

/* ══════════════════════════════════════════
   DUE SOON BANNER
══════════════════════════════════════════ */
function renderDueBanner(){
  const el=document.getElementById('due-banner');
  if(currentView!=='all'&&currentView!=='feed'){el.innerHTML='';return;}
  const today=new Date();today.setHours(0,0,0,0);
  const due=videos.filter(v=>!v.watched&&v.deadline).map(v=>{
    const d=new Date(v.deadline);d.setHours(0,0,0,0);
    return{...v,daysLeft:Math.round((d-today)/86400000)};
  }).filter(v=>v.daysLeft<=7).sort((a,b)=>a.daysLeft-b.daysLeft);
  if(!due.length){el.innerHTML='';return;}
  el.innerHTML=`<div class="due-banner">
    <div class="due-title">🔥 Due Soon <span style="font-size:10px;padding:2px 8px;background:var(--red);color:#fff;border-radius:99px;font-weight:700;">${due.length}</span></div>
    <div class="due-scroll">${due.map(v=>{
      const p=PLATS[v.platform];const thumb=p.thumb(v.platformId);const dl=dlInfo(v.deadline);
      return`<div class="due-card" onclick="play('${v.id}')">
        <div class="due-thumb">${thumb?`<img src="${thumb}" alt="" onerror="this.style.display='none';this.nextElementSibling.style.display='flex'">`:''}
          <div class="due-ph" style="${thumb?'display:none':''}">${p.icon}</div>
        </div>
        <div style="padding:8px 10px 10px;">
          <div style="font-size:12px;font-weight:600;color:var(--t1);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-bottom:4px;">${esc(v.title)}</div>
          <span style="display:inline-flex;align-items:center;font-size:10px;font-weight:700;padding:2px 7px;border-radius:99px;background:${dl.bg};color:${dl.color};border:1px solid ${dl.color}30;">${dl.label}</span>
        </div>
      </div>`;
    }).join('')}</div>
  </div>`;
}

/* ══════════════════════════════════════════
   PLAYLIST STATS BAR
══════════════════════════════════════════ */
function renderPlStats(){
  const el=document.getElementById('pl-stats');
  if(currentView==='all'||currentView==='feed'||currentView==='analytics'){el.innerHTML='';return;}
  const pl=playlists.find(p=>p.id===currentView);
  if(!pl){el.innerHTML='';return;}
  const vids=pl.videoIds.map(id=>videos.find(v=>v.id===id)).filter(Boolean);
  const total=vids.length;
  const done=vids.filter(v=>v.watched).length;
  const pct=total?Math.round(done/total*100):0;
  const overdue=vids.filter(v=>!v.watched&&v.deadline&&new Date(v.deadline)<new Date()).length;
  el.innerHTML=`<div class="pl-stats">
    <div class="pls-stat"><div class="pls-val">${total}</div><div class="pls-lbl">Videos</div></div>
    <div class="pls-sep"></div>
    <div class="pls-stat"><div class="pls-val" style="color:var(--grn);">${done}</div><div class="pls-lbl">Watched</div></div>
    <div class="pls-sep"></div>
    <div class="pls-stat"><div class="pls-val" style="color:var(--red);">${overdue}</div><div class="pls-lbl">Overdue</div></div>
    <div class="pls-sep"></div>
    <div class="pls-prog">
      <div class="pls-txt">${pct}% complete</div>
      <div class="pls-track"><div class="pls-fill" style="width:${pct}%;"></div></div>
      <div class="pls-txt" style="color:var(--t3);">${done} of ${total} watched</div>
    </div>
  </div>`;
}

/* ══════════════════════════════════════════
   RENDER GRID
══════════════════════════════════════════ */
function renderGrid(){
  let vids;
  if(currentView==='all'||currentView==='feed')vids=[...videos];
  else{const pl=playlists.find(p=>p.id===currentView);vids=pl?pl.videoIds.map(id=>videos.find(v=>v.id===id)).filter(Boolean):[];}
  if(currentFilter==='watched')vids=vids.filter(v=>v.watched);
  else if(currentFilter==='unwatched')vids=vids.filter(v=>!v.watched);
  // search filter
  const sq=document.getElementById('search-input')?.value?.trim()||'';
  if(sq){const lower=sq.toLowerCase();vids=vids.filter(v=>v.title.toLowerCase().includes(lower)||v.url.toLowerCase().includes(lower));}

  const pl=currentView!=='all'&&currentView!=='feed'&&currentView!=='analytics'?playlists.find(p=>p.id===currentView):null;
  document.getElementById('view-title').textContent=pl?`${pl.emoji||'📋'} ${pl.name}`:currentView==='feed'?'Feed':'Home';
  document.getElementById('view-count').textContent=vids.length+' video'+(vids.length!==1?'s':'');

  if(!vids.length){
    document.getElementById('vgrid').style.display='none';
    document.getElementById('empty-state').style.display='block';
    document.getElementById('empty-title').textContent=pl?'Playlist is empty':'No videos yet';
    document.getElementById('empty-text').textContent=currentFilter!=='all'?`No ${currentFilter} videos.`:'Add videos from YouTube, Instagram, X and 120+ platforms.';
    return;
  }
  document.getElementById('vgrid').style.display='grid';
  document.getElementById('empty-state').style.display='none';

  document.getElementById('vgrid').innerHTML=vids.map(vid=>{
    const p=PLATS[vid.platform];const thumb=p.thumb(vid.platformId);const dl=dlInfo(vid.deadline);
    return`<div class="vcard ${vid.watched?'watched':''}">
      ${vid.watched?`<div class="watched-ov">✓</div>`:''}
      <div class="vthumb" onclick="play('${vid.id}')">
        ${thumb?`<img src="${thumb}" alt="${esc(vid.title)}" loading="lazy" onerror="this.style.display='none';this.nextElementSibling.style.display='flex'">`:'' }
        <div class="vthumb-ph" style="${thumb?'display:none':''}">${p.icon}</div>
        <div class="play-ov"><div class="play-circle"><div class="play-tri"></div></div></div>
        <div class="pbadge" style="background:${p.color}dd;color:#fff;">${p.icon} ${p.name}</div>
      </div>
      <div class="vinfo">
        <div class="vtitle">${esc(vid.title)}</div>
        <div class="vurl">${surl(vid.url)}</div>
        ${dl?`<div class="dl-row" style="background:${dl.bg};border-color:${dl.color}28;">
          <div class="dl-dot" style="background:${dl.color};box-shadow:0 0 6px ${dl.color}80;"></div>
          <div class="dl-txt" style="color:${dl.color};">Watch by ${dl.display}</div>
          <div class="dl-badge" style="background:${dl.color}22;color:${dl.color};">${dl.label}</div>
        </div>`:''}
        <div class="vactions">
          <button class="btn-play" onclick="play('${vid.id}')">▶ Play</button>
          <button class="btn-ico ${vid.watched?'watched-ico':''}" onclick="markWatched('${vid.id}')" title="${vid.watched?'Unmark watched':'Mark as watched'}">✓</button>
          <div class="dd-wrap">
            <button class="btn-ico" onclick="toggleDD('${vid.id}',event)">⋯</button>
            <div class="dd-menu" id="dd-${vid.id}" style="display:none;" onclick="event.stopPropagation()">

              <!-- Playlist section -->
              <div class="dd-lbl">Add to Playlist</div>
              ${playlists.length===0?'<div class="dd-it" style="color:var(--t3);font-size:12px;cursor:default;">No playlists yet</div>':''}
              ${playlists.map(pl=>`<div class="dd-it ${pl.videoIds.includes(vid.id)?'dd-chk':''}" onclick="togPL('${pl.id}','${vid.id}');closeAllDD();">${pl.videoIds.includes(vid.id)?'✓':'+'} ${esc(pl.emoji||'')} ${esc(pl.name)}</div>`).join('')}

              <div class="dd-sep"></div>

              <!-- Watch status -->
              <div class="dd-it ${vid.watched?'dd-ok':''}" onclick="markWatched('${vid.id}');closeAllDD();">${vid.watched?'↩ Unmark watched':'✓ Mark as watched'}</div>
              <a href="${esc(vid.url)}" target="_blank" rel="noopener" class="dd-it" style="text-decoration:none;" onclick="closeAllDD();">↗ Open original</a>

              <div class="dd-sep"></div>

              <!-- Extend deadline — fully inline, no modal -->
              ${vid.deadline?`
              <div class="dd-it dd-warn" id="dd-extend-trigger-${vid.id}" onclick="toggleExtendInline('${vid.id}')">⏱ Extend deadline</div>
              <div class="dd-extend-inline" id="dd-extend-inline-${vid.id}" style="display:none;">
                <div class="dd-extend-lbl">Add days to deadline:</div>
                <div class="dd-extend-btns">
                  ${[3,7,14,30].map(d=>`<button class="dd-ext-d" data-d="${d}" data-vid="${vid.id}" onclick="selectExtendInline(${d},'${vid.id}',this)">+${d}d</button>`).join('')}
                </div>
                <div class="ff" style="margin-bottom:8px;">
                  <label class="fl" style="font-size:11px;">Or pick a date directly:</label>
                  <input type="date" class="fi" id="dd-ext-date-${vid.id}" style="padding:7px 10px;font-size:12.5px;"/>
                </div>
                <div class="dd-ext-act">
                  <button class="dd-ext-cancel" onclick="toggleExtendInline('${vid.id}')">Cancel</button>
                  <button class="dd-ext-ok" onclick="doExtendInline('${vid.id}')">Extend ⏱</button>
                </div>
              </div>`:''}

              <!-- Delete — always last, always functional -->
              <div class="dd-it dd-danger" onclick="closeAllDD();confirmDelVid('${vid.id}','${esc(vid.title)}');">🗑 Delete video</div>
            </div>
          </div>
        </div>
      </div>
    </div>`;
  }).join('');
}

function render(){renderSidebar();renderDueBanner();renderPlStats();renderGrid();}

/* ══════════════════════════════════════════
   MARK WATCHED
══════════════════════════════════════════ */
function markWatched(id){
  const vid=videos.find(v=>v.id===id);if(!vid)return;
  vid.watched=!vid.watched;
  if(vid.watched){
    const now=new Date().toISOString();
    vid.watchedAt=now;
    const dl=vid.deadline?new Date(vid.deadline):null;
    const onTime=dl?new Date(now)<=dl:true;
    watchHistory.push({vidId:id,watchedAt:now,onTime,deadline:vid.deadline});
    showToast('Marked as watched ✓');
  }else{
    vid.watchedAt=null;
    showToast('Unmarked');
  }
  render();
}

/* ══════════════════════════════════════════
   PLAY
══════════════════════════════════════════ */
function play(id){
  const vid=videos.find(v=>v.id===id);if(!vid)return;
  const p=PLATS[vid.platform];closeAllDD();
  if(vid.platform==='twitter'){window.open(vid.url,'_blank','noopener');return;}
  currentPlayingId=id;
  document.getElementById('pdot').style.background=p.color;
  document.getElementById('ptitle').textContent=vid.title;
  const ua=document.getElementById('purl');ua.textContent=surl(vid.url);ua.href=vid.url;
  document.getElementById('pititle').textContent=vid.title;
  document.getElementById('polink').href=vid.url;
  document.getElementById('piframe').src=p.embed(vid.platformId);
  document.getElementById('player-modal').style.display='flex';
}
function closePlayer(){document.getElementById('player-modal').style.display='none';document.getElementById('piframe').src='';currentPlayingId=null;}

/* ══════════════════════════════════════════
   EXTEND DEADLINE
══════════════════════════════════════════ */
function openExtend(id,title){
  closeAllDD();
  extendVidId=id;extendDays=7;
  document.getElementById('extend-vid-title').textContent=`Extending deadline for: "${title}"`;
  document.getElementById('extend-date').value='';
  document.querySelectorAll('.ext-d-btn').forEach(b=>{b.classList.toggle('sel',parseInt(b.dataset.d)===7);});
  document.getElementById('extend-modal').style.display='flex';
}
function selectExtend(d,btn){
  extendDays=d;
  document.querySelectorAll('.ext-d-btn').forEach(b=>b.classList.remove('sel'));
  btn.classList.add('sel');
  document.getElementById('extend-date').value='';
}
function doExtend(){
  const vid=videos.find(v=>v.id===extendVidId);if(!vid)return;
  const manualDate=document.getElementById('extend-date').value;
  if(manualDate){
    vid.deadline=manualDate;
  }else{
    const base=vid.deadline?new Date(vid.deadline):new Date();
    base.setDate(base.getDate()+extendDays);
    vid.deadline=base.toISOString().split('T')[0];
  }
  closeExtend();
  render();
  showToast(`Deadline extended ⏱`);
}
function closeExtend(){document.getElementById('extend-modal').style.display='none';extendVidId=null;}

/* ══════════════════════════════════════════
   ANALYTICS
══════════════════════════════════════════ */
function renderAnalytics(){
  const wrap=document.getElementById('an-wrap');
  const total=videos.length;
  const watched=videos.filter(v=>v.watched).length;
  const pct=total?Math.round(watched/total*100):0;
  const overdue=videos.filter(v=>!v.watched&&v.deadline&&new Date(v.deadline)<new Date()).length;
  const onTimeCount=watchHistory.filter(h=>h.onTime).length;
  const punctPct=watchHistory.length?Math.round(onTimeCount/watchHistory.length*100):0;
  let puncEmoji,puncMsg,puncColor;
  if(!watchHistory.length){puncEmoji='🤷';puncMsg="You haven't watched anything yet.";puncColor='var(--t3)';}
  else if(punctPct>=80){puncEmoji='🏆';puncMsg=`You're on fire! ${punctPct}% on time. Genuinely impressive discipline.`;puncColor='var(--grn)';}
  else if(punctPct>=50){puncEmoji='😬';puncMsg=`${punctPct}% on time. Mediocre. You set these deadlines yourself and you're still blowing them. Step it up.`;puncColor='var(--org)';}
  else{puncEmoji='💀';puncMsg=`${punctPct}% on time. That's embarrassing. Every single deadline, ignored. Your future self is deeply, genuinely disappointed.`;puncColor='var(--red)';}
  const recent=[...watchHistory].reverse().slice(0,10);
  wrap.innerHTML=`
    <div class="an-hd">Your Watch Analytics</div>
    <div class="an-sub2">Tracking your habits so you can actually improve them.</div>
    <div class="an-cards">
      <div class="an-card"><div class="an-val">${total}</div><div class="an-lbl">Total Saved</div></div>
      <div class="an-card" style="border-color:var(--acc);background:var(--acl);"><div class="an-val" style="color:var(--acc);">${watched}</div><div class="an-lbl">Watched</div></div>
      <div class="an-card"><div class="an-val">${pct}%</div><div class="an-lbl">Completion</div></div>
      <div class="an-card" style="${overdue?'border-color:var(--red);background:rgba(255,69,58,.06);':''}"><div class="an-val" style="${overdue?'color:var(--red);':''}">${overdue}</div><div class="an-lbl">Overdue</div></div>
      <div class="an-card" style="border-color:var(--pur);background:rgba(191,90,242,.07);"><div class="an-val" style="color:var(--pur);">${punctPct}%</div><div class="an-lbl">On-Time Rate</div></div>
    </div>
    <div class="an-chart-box">
      <div class="an-chart-box-inner-left">
        <div class="an-chart-icon">📈</div>
        <div class="an-chart-title">Weekly Insights</div>
        <div class="an-chart-sub">Visualize your watch activity and completion rate over time. Spot trends in your habits.</div>
        <div class="an-chart-stats">
          <div><div class="an-stat-val">${pct}%</div><div class="an-stat-lbl">Completion</div></div>
          <div><div class="an-stat-val" style="color:var(--grn);">+${Math.max(0,watched)}</div><div class="an-stat-lbl">Watched</div></div>
        </div>
      </div>
      <div class="an-chart-right">
        <div style="display:flex;justify-content:flex-end;margin-bottom:10px;">
          <div class="period-tabs">
            <button class="ptab ${chartPeriod==='week'?'active':''}" onclick="switchPeriod('week',this)">Week</button>
            <button class="ptab ${chartPeriod==='month'?'active':''}" onclick="switchPeriod('month',this)">Month</button>
            <button class="ptab ${chartPeriod==='year'?'active':''}" onclick="switchPeriod('year',this)">Year</button>
          </div>
        </div>
        <div class="chart-c"><canvas id="watchChart"></canvas></div>
      </div>
    </div>
    <div class="punc-card">
      <div style="font-size:38px;margin-bottom:10px;">${puncEmoji}</div>
      <div style="font-size:16px;font-weight:700;color:var(--t1);margin-bottom:7px;">Your Punctuality Score</div>
      <div style="font-size:13.5px;color:var(--t2);line-height:1.65;">${puncMsg}</div>
      <div class="punc-score" style="background:${puncColor}18;color:${puncColor};border:1px solid ${puncColor}30;">${punctPct}% on time · ${watchHistory.length} video${watchHistory.length!==1?'s':''} tracked</div>
    </div>
    <div class="an-chart-box">
      <div class="an-chart-title" style="margin-bottom:12px;">Watch History</div>
      <div class="hist-list">
        ${!recent.length?'<div style="text-align:center;padding:20px;color:var(--t3);font-size:13px;">No watch history yet.</div>':
          recent.map(h=>{
            const vid=videos.find(v=>v.id===h.vidId);if(!vid)return'';
            const p=PLATS[vid.platform];const thumb=p.thumb(vid.platformId);
            const date=new Date(h.watchedAt).toLocaleDateString('en-US',{month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});
            return`<div class="hist-item">
              <div style="width:48px;height:27px;border-radius:5px;overflow:hidden;background:var(--tp);flex-shrink:0;">${thumb?`<img src="${thumb}" alt="" style="width:100%;height:100%;object-fit:cover;">`:`<div style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:12px;">${p.icon}</div>`}</div>
              <div style="flex:1;min-width:0;"><div style="font-size:12.5px;font-weight:600;color:var(--t1);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;">${esc(vid.title)}</div><div style="font-size:11px;color:var(--t3);margin-top:1px;">${date}</div></div>
              ${h.deadline?`<span style="font-size:10.5px;font-weight:700;padding:2px 8px;border-radius:99px;background:${h.onTime?'rgba(50,215,75,.12)':'rgba(255,69,58,.12)'};color:${h.onTime?'var(--grn)':'var(--red)'};">${h.onTime?'✓ On time':'Late'}</span>`:''}
            </div>`;
          }).join('')}
      </div>
    </div>`;
  rebuildChart();
}
function switchPeriod(p,btn){chartPeriod=p;document.querySelectorAll('.ptab').forEach(t=>t.classList.remove('active'));btn.classList.add('active');rebuildChart();}
function rebuildChart(){
  const canvas=document.getElementById('watchChart');if(!canvas)return;
  if(chartInstance){chartInstance.destroy();chartInstance=null;}
  const {labels,data}=getChartData();
  const dark=document.documentElement.getAttribute('data-theme')==='dark';
  const gc=dark?'rgba(255,255,255,.04)':'rgba(0,0,0,.04)';
  const tc=dark?'rgba(255,255,255,.35)':'rgba(0,0,0,.35)';
  // periwinkle/lavender — matches image reference
  const ac='#7b8fef';
  const acBorder='#6c7fe8';
  const ctx=canvas.getContext('2d');
  const grad=ctx.createLinearGradient(0,0,0,canvas.offsetHeight||200);
  grad.addColorStop(0,'rgba(123,143,239,.38)');
  grad.addColorStop(0.5,'rgba(123,143,239,.14)');
  grad.addColorStop(1,'rgba(123,143,239,.0)');
  chartInstance=new Chart(canvas,{
    type:'line',
    data:{labels,datasets:[{label:'Watched',data,backgroundColor:grad,borderColor:acBorder,borderWidth:2,fill:true,tension:.48,pointBackgroundColor:acBorder,pointBorderColor:dark?'#1a1a1a':'#fff',pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},
    options:{responsive:true,maintainAspectRatio:false,interaction:{mode:'index',intersect:false},
      plugins:{legend:{display:false},tooltip:{backgroundColor:dark?'rgba(26,26,26,.96)':'rgba(255,255,255,.97)',titleColor:dark?'#f1f1f1':'#0f0f0f',bodyColor:dark?'#aaa':'#606060',borderColor:dark?'rgba(255,255,255,.1)':'rgba(0,0,0,.08)',borderWidth:1,cornerRadius:12,padding:14,titleFont:{size:12,weight:'700',family:'DM Sans,sans-serif'},bodyFont:{size:12,family:'DM Sans,sans-serif'},callbacks:{label:ctx=>`  ${ctx.parsed.y} video${ctx.parsed.y!==1?'s':''} watched`}}},
      scales:{x:{grid:{color:gc,drawBorder:false},border:{display:false},ticks:{color:tc,font:{size:11,family:'DM Sans,sans-serif'},maxRotation:0}},y:{grid:{color:gc,drawBorder:false},border:{display:false},ticks:{color:tc,font:{size:11,family:'DM Sans,sans-serif'},stepSize:1,precision:0},beginAtZero:true,max:100}},
      animation:{duration:800,easing:'easeOutCubic'}}
  });
}
function getChartData(){
  const now=new Date();
  if(chartPeriod==='week'){
    const labels=[],data=[];
    for(let i=6;i>=0;i--){const d=new Date(now);d.setDate(d.getDate()-i);labels.push(i===0?'Today':d.toLocaleDateString('en-US',{weekday:'short'}));data.push(watchHistory.filter(h=>new Date(h.watchedAt).toDateString()===d.toDateString()).length);}
    return{labels,data};
  }else if(chartPeriod==='month'){
    const labels=[],data=[];
    for(let i=29;i>=0;i-=2){const d=new Date(now);d.setDate(d.getDate()-i);labels.push(d.toLocaleDateString('en-US',{month:'short',day:'numeric'}));const s=new Date(d);const e=new Date(d);e.setDate(e.getDate()+1);data.push(watchHistory.filter(h=>{const wd=new Date(h.watchedAt);return wd>=s&&wd<e;}).length);}
    return{labels,data};
  }else{
    const labels=[],data=[];
    for(let i=11;i>=0;i--){const d=new Date(now);d.setMonth(d.getMonth()-i);labels.push(d.toLocaleDateString('en-US',{month:'short',year:'2-digit'}));data.push(watchHistory.filter(h=>{const wd=new Date(h.watchedAt);return wd.getMonth()===d.getMonth()&&wd.getFullYear()===d.getFullYear();}).length);}
    return{labels,data};
  }
}

/* ══════════════════════════════════════════
   PLAYLIST ACTIONS
══════════════════════════════════════════ */
function openNewPlaylist(){document.getElementById('npl-name').value='';document.getElementById('npl-emoji').value='';document.getElementById('npl-modal').style.display='flex';setTimeout(()=>document.getElementById('npl-name').focus(),80);}
function closeNPL(){document.getElementById('npl-modal').style.display='none';}
function createPL(){
  const name=document.getElementById('npl-name').value.trim();
  const emoji=document.getElementById('npl-emoji').value.trim()||'📋';
  if(!name){document.getElementById('npl-name').focus();return;}
  const np={id:uid(),name,emoji,videoIds:[]};
  playlists.push(np);
  closeNPL();
  setView(np.id);
  showToast(`Playlist "${emoji} ${name}" created`);
}
function togPL(plId,vidId){
  playlists=playlists.map(pl=>{if(pl.id!==plId)return pl;const has=pl.videoIds.includes(vidId);return{...pl,videoIds:has?pl.videoIds.filter(i=>i!==vidId):[...pl.videoIds,vidId]};});
  render();
  const pl=playlists.find(p=>p.id===plId);
  showToast(pl?.videoIds.includes(vidId)?`Added to ${pl.name}`:`Removed from ${pl?.name}`);
}

/* ══════════════════════════════════════════
   SHARE
══════════════════════════════════════════ */
function shareCurrent(){
  const pl=playlists.find(p=>p.id===currentView);if(!pl)return;
  const vids=pl.videoIds.map(id=>videos.find(v=>v.id===id)).filter(Boolean);
  const data={name:pl.name,emoji:pl.emoji,videos:vids.map(v=>({url:v.url,title:v.title,deadline:v.deadline}))};
  const encoded=btoa(unescape(encodeURIComponent(JSON.stringify(data))));
  const shareUrl=`${location.origin}${location.pathname}#data=${encoded}`;
  document.getElementById('share-pl-name').textContent=`"${pl.emoji} ${pl.name}" — ${vids.length} video${vids.length!==1?'s':''}`;
  document.getElementById('share-url-input').value=shareUrl;
  document.getElementById('share-modal').style.display='flex';
}
function closeShareModal(){document.getElementById('share-modal').style.display='none';}
function copyShareUrl(){
  const inp=document.getElementById('share-url-input');
  navigator.clipboard.writeText(inp.value).then(()=>showToast('Link copied! 🔗')).catch(()=>{inp.select();document.execCommand('copy');showToast('Link copied! 🔗');});
}
function importSharedPlaylist(encoded){
  try{
    const data=JSON.parse(decodeURIComponent(escape(atob(encoded))));
    const np={id:uid(),name:data.name||'Imported',emoji:data.emoji||'🔗',videoIds:[]};
    if(data.videos&&Array.isArray(data.videos)){
      data.videos.forEach(v=>{
        const d=det(v.url);if(!d)return;
        const existing=videos.find(x=>x.url===v.url);
        if(!existing){const nv={id:uid(),url:v.url,platform:d.platform,platformId:d.id,title:v.title||`${PLATS[d.platform].name} Video`,deadline:v.deadline||null,watched:false,watchedAt:null};videos.push(nv);np.videoIds.push(nv.id);}
        else if(!np.videoIds.includes(existing.id))np.videoIds.push(existing.id);
      });
    }
    playlists.push(np);
    history.replaceState(null,'',location.pathname);
    showToast(`Imported "${np.emoji} ${np.name}" (${np.videoIds.length} videos)`);
    render();
  }catch(e){showToast('Could not import shared playlist');}
}

/* ══════════════════════════════════════════
   IMPORT YOUTUBE
══════════════════════════════════════════ */
function openImport(){
  document.getElementById('import-url').value='';
  document.getElementById('import-err').style.display='none';
  document.getElementById('import-info').style.display='none';
  document.getElementById('import-preview').style.display='none';
  document.getElementById('import-btn-ok').style.display='none';
  document.getElementById('import-manual-wrap').style.display='none';
  parsedImportVideos=[];importSelected=[];
  document.getElementById('import-modal').style.display='flex';
  setTimeout(()=>document.getElementById('import-url').focus(),80);
}
function closeImport(){document.getElementById('import-modal').style.display='none';}
function onImportUrlChange(){
  const raw=document.getElementById('import-url').value.trim();
  const info=document.getElementById('import-info');const err=document.getElementById('import-err');
  info.style.display='none';err.style.display='none';
  document.getElementById('import-preview').style.display='none';
  document.getElementById('import-btn-ok').style.display='none';
  document.getElementById('import-manual-wrap').style.display='none';
  parsedImportVideos=[];importSelected=[];
  if(!raw)return;
  if(!raw.includes('youtube.com')&&!raw.includes('youtu.be')){err.textContent='⚠ Please paste a YouTube URL';err.style.display='block';return;}
  const singleMatch=raw.match(/[?&]v=([a-zA-Z0-9_-]{11})/)||raw.match(/youtu\.be\/([a-zA-Z0-9_-]{11})/);
  const listMatch=raw.match(/[?&]list=([^&]+)/);
  if(singleMatch){
    const v={id:singleMatch[1],title:'YouTube Video',url:`https://www.youtube.com/watch?v=${singleMatch[1]}`};
    parsedImportVideos=[v];importSelected=[v.id];
    info.textContent=`✅ Detected 1 video from URL. Edit title below then confirm.`;info.style.display='block';
    renderImportList();document.getElementById('import-preview').style.display='block';document.getElementById('import-btn-ok').style.display='';
  }else if(listMatch){
    info.textContent=`📋 Playlist ID detected: ${listMatch[1]} — paste video URLs below.`;info.style.display='block';
    document.getElementById('import-manual-wrap').style.display='block';
  }else{err.textContent='⚠ Could not find a video or playlist ID in this URL.';err.style.display='block';}
}
function parseManualUrls(){
  const lines=document.getElementById('import-manual-ta').value.split('\n').map(l=>l.trim()).filter(Boolean);
  const err=document.getElementById('import-err');err.style.display='none';
  parsedImportVideos=[];const seen=new Set();
  lines.forEach(line=>{
    const m=line.match(/(?:v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/)||line.match(/^([a-zA-Z0-9_-]{11})$/);
    const id=m?m[1]:null;
    if(id&&!seen.has(id)){seen.add(id);parsedImportVideos.push({id,title:'YouTube Video',url:`https://www.youtube.com/watch?v=${id}`});}
  });
  if(!parsedImportVideos.length){err.textContent='⚠ No valid YouTube video URLs found.';err.style.display='block';return;}
  importSelected=parsedImportVideos.map(v=>v.id);
  document.getElementById('import-info').textContent=`✅ Found ${parsedImportVideos.length} video${parsedImportVideos.length!==1?'s':''}. Edit titles then confirm.`;
  document.getElementById('import-info').style.display='block';
  renderImportList();document.getElementById('import-preview').style.display='block';document.getElementById('import-btn-ok').style.display='';
}
function renderImportList(){
  document.getElementById('import-count-lbl').textContent=`${parsedImportVideos.length} video${parsedImportVideos.length!==1?'s':''}`;
  document.getElementById('import-list').innerHTML=parsedImportVideos.map((v,i)=>`
    <div class="import-vi">
      <div class="import-thumb"><img src="https://img.youtube.com/vi/${v.id}/default.jpg" alt="" onerror="this.style.opacity='.3'"></div>
      <div style="flex:1;min-width:0;">
        <input class="fi" style="padding:6px 9px;font-size:12.5px;" value="${esc(v.title)}" oninput="parsedImportVideos[${i}].title=this.value" placeholder="Video title"/>
        <div style="font-size:11px;color:var(--t3);margin-top:2px;">youtube.com/watch?v=${v.id}</div>
      </div>
      <div class="import-check ${importSelected.includes(v.id)?'on':''}" onclick="toggleImportItem('${v.id}',this)">${importSelected.includes(v.id)?'✓':''}</div>
    </div>`).join('');
  updateImportBtn();
}
function toggleImportItem(id,el){
  if(importSelected.includes(id)){importSelected=importSelected.filter(x=>x!==id);el.classList.remove('on');el.textContent='';}
  else{importSelected.push(id);el.classList.add('on');el.textContent='✓';}
  updateImportBtn();
}
function toggleAllImport(){
  const btn=document.getElementById('toggle-all-btn');
  const allSel=importSelected.length===parsedImportVideos.length;
  importSelected=allSel?[]:parsedImportVideos.map(v=>v.id);
  btn.textContent=allSel?'Select All':'Deselect All';
  renderImportList();
}
function updateImportBtn(){
  const btn=document.getElementById('import-btn-ok');
  btn.textContent=`Import ${importSelected.length} Video${importSelected.length!==1?'s':''}`;
  btn.disabled=importSelected.length===0;
}
function doImport(){
  const sel=parsedImportVideos.filter(v=>importSelected.includes(v.id));
  let added=0;
  sel.forEach(v=>{
    if(!videos.find(x=>x.url===v.url)){
      videos.push({id:uid(),url:v.url,platform:'youtube',platformId:v.id,title:v.title||'YouTube Video',deadline:null,watched:false,watchedAt:null});
      added++;
    }
  });
  closeImport();setView('all');
  showToast(`Imported ${added} video${added!==1?'s':''} ✓`);
}

/* ══════════════════════════════════════════
   ADD VIDEO
══════════════════════════════════════════ */
function openAdd(){
  ['add-url','add-title'].forEach(i=>document.getElementById(i).value='');
  document.getElementById('add-dl').value='';
  document.getElementById('add-dl').min=new Date().toISOString().split('T')[0];
  hideAddErr();
  document.getElementById('add-modal').style.display='flex';
  setTimeout(()=>document.getElementById('add-url').focus(),80);
}
function closeAdd(){document.getElementById('add-modal').style.display='none';}
function hideAddErr(){const el=document.getElementById('add-err');el.style.display='none';el.textContent='';}
function showAddErr(msg){const el=document.getElementById('add-err');el.style.display='block';el.textContent='⚠ '+msg;}
function addVideo(){
  const url=document.getElementById('add-url').value.trim();
  const title=document.getElementById('add-title').value.trim();
  const deadline=document.getElementById('add-dl').value;
  if(!url){showAddErr('Please enter a URL.');return;}
  const d=det(url);if(!d){showAddErr('Could not detect platform. Paste a YouTube, Instagram or X video URL.');return;}
  videos.unshift({id:uid(),url,platform:d.platform,platformId:d.id,title:title||PLATS[d.platform].name+' Video',deadline:deadline||null,watched:false,watchedAt:null});
  closeAdd();render();showToast('Video added ✓');
}

/* ══════════════════════════════════════════
   CONFIRM / DELETE
══════════════════════════════════════════ */
let _cmCb=null;
function showCM(icon,title,text,cb){
  document.getElementById('cm-icon').textContent=icon;
  document.getElementById('cm-title').textContent=title;
  document.getElementById('cm-text').textContent=text;
  _cmCb=cb;
  document.getElementById('cm-ok').onclick=()=>{cb();closeCM();};
  document.getElementById('cm-modal').style.display='flex';
}
function closeCM(){document.getElementById('cm-modal').style.display='none';_cmCb=null;}
function confirmDelVid(id,title){
  showCM('🗑','Delete video?',`"${title}" will be removed from your library and all playlists.`,()=>{
    videos=videos.filter(v=>v.id!==id);
    playlists=playlists.map(pl=>({...pl,videoIds:pl.videoIds.filter(v=>v!==id)}));
    render();showToast('Video deleted');
  });
}
function confirmDelPL(id,name){
  showCM('📋','Delete playlist?',`"${name}" will be deleted. Videos inside won't be affected.`,()=>{
    playlists=playlists.filter(p=>p.id!==id);
    if(currentView===id)setView('all');else render();
    showToast('Playlist deleted');
  });
}

/* ══════════════════════════════════════════
   DROPDOWN MENU
══════════════════════════════════════════ */
function toggleDD(id,e){
  e.stopPropagation();
  const dd=document.getElementById('dd-'+id);
  const wasOpen=dd&&dd.style.display!=='none';
  closeAllDD();
  if(!wasOpen&&dd)dd.style.display='block';
}
function closeAllDD(){document.querySelectorAll('.dd-menu').forEach(d=>d.style.display='none');}
document.addEventListener('click',()=>{closeAllDD();document.getElementById('search-results').style.display='none';});

/* ══════════════════════════════════════════
   BUILDER CARD
══════════════════════════════════════════ */
function toggleBC(){const ov=document.getElementById('bcov');ov.style.display=ov.style.display==='block'?'none':'block';}
function closeBC(){document.getElementById('bcov').style.display='none';}

/* ══════════════════════════════════════════
   TOAST
══════════════════════════════════════════ */
let _tt;
function showToast(msg){const t=document.getElementById('toast');t.textContent=msg;t.classList.add('show');clearTimeout(_tt);_tt=setTimeout(()=>t.classList.remove('show'),2400);}

/* ══════════════════════════════════════════
   KEYBOARD
══════════════════════════════════════════ */
document.addEventListener('keydown',e=>{
  if((e.metaKey||e.ctrlKey)&&e.key==='k'){e.preventDefault();if(document.getElementById('pg-app').classList.contains('active'))toggleSearch();}
  if(e.key==='Escape'){
    if(document.getElementById('player-modal').style.display!=='none'){closePlayer();return;}
    if(document.getElementById('add-modal').style.display!=='none'){closeAdd();return;}
    if(document.getElementById('npl-modal').style.display!=='none'){closeNPL();return;}
    if(document.getElementById('cm-modal').style.display!=='none'){closeCM();return;}
    if(document.getElementById('share-modal').style.display!=='none'){closeShareModal();return;}
    if(document.getElementById('import-modal').style.display!=='none'){closeImport();return;}
    if(document.getElementById('extend-modal').style.display!=='none'){closeExtend();return;}
    if(searchActive){closeSearch();return;}
    closeBC();closeAllDD();
  }
});

/* ══════════════════════════════════════════
   INIT
══════════════════════════════════════════ */
if(window.location.hash.startsWith('#data=')){openApp();}
render();

// ── Typewriter — app features cycling ──
(function(){
  const phrases=[
    'Save Videos.','Set Deadlines.','Beat Impulse Watching.',
    'Build Playlists.','Track Your Habits.','Watch Intentionally.',
    'Own Your Feed.','Know Your Score.','No Algorithm. Just You.'
  ];
  let pi=0,ci=0,deleting=false,pauseFrames=0;
  const el=document.getElementById('tw-text');
  if(!el)return;
  function tick(){
    const phrase=phrases[pi];
    if(pauseFrames>0){pauseFrames--;setTimeout(tick,35);return;}
    if(!deleting){
      el.textContent=phrase.slice(0,ci+1);ci++;
      if(ci===phrase.length){deleting=true;pauseFrames=22;setTimeout(tick,35);} 
      else setTimeout(tick,38+(Math.random()*12-6));
    }else{
      el.textContent=phrase.slice(0,ci-1);ci--;
      if(ci===0){deleting=false;pi=(pi+1)%phrases.length;pauseFrames=3;setTimeout(tick,35);}
      else setTimeout(tick,18);
    }
  }
  setTimeout(tick,200);
})();

// ── Onboarding modal ──
let onbIdx=0;
const ONB_TOTAL=6;
function startOnboarding(){
  onbIdx=0;
  document.querySelectorAll('.onb-card').forEach((c,i)=>{c.style.display=i===0?'block':'none';});
  updateOnbDots();
  document.getElementById('onb-overlay').classList.add('active');
}
function closeOnboarding(){document.getElementById('onb-overlay').classList.remove('active');}
function onbNext(){
  if(onbIdx>=ONB_TOTAL-1)return;
  document.getElementById('onb-'+onbIdx).style.display='none';
  onbIdx++;
  document.getElementById('onb-'+onbIdx).style.display='block';
  updateOnbDots();
}
function onbPrev(){
  if(onbIdx===0)return;
  document.getElementById('onb-'+onbIdx).style.display='none';
  onbIdx--;
  document.getElementById('onb-'+onbIdx).style.display='block';
  updateOnbDots();
}
function updateOnbDots(){
  document.querySelectorAll('.onb-dot').forEach((d,i)=>d.classList.toggle('active',i===onbIdx));
}

// ── LP Builder bento toggle ──


/* ══════════════════════════════════════════
   INFO MODAL — FAQ, Privacy, Cookie, Contact, HIW
══════════════════════════════════════════ */
const INFO_CONTENT = {
  pricing: {
    icon: '🎁',
    title: 'Why aellium is completely free',
    body: `
      <div class="pricing-grid">
        <div class="pricing-card free">
          <div class="pricing-label">aellium</div>
          <div class="pricing-price">₹0</div>
          <div class="pricing-desc">Forever. No credit card. No trial. No gotcha.</div>
        </div>
        <div class="pricing-card">
          <div class="pricing-label">Other tools</div>
          <div class="pricing-price">$8–29</div>
          <div class="pricing-desc">Per month. For features you don't even need.</div>
        </div>
      </div>
      <div class="pricing-why">
        <h3>Why free?</h3>
        <p>aellium was built to scratch my own itch. I was drowning in saved videos I never watched — YouTube Watch Later, Instagram saves, X bookmarks. A chaotic mess across three apps.</p>
        <p>I built aellium for myself. Then shared it. Since I'm not running a business here, there's no investor demanding I monetize your attention. No ads. No upsells. No premium tier hiding the good stuff.</p>
        <h3>How does it stay free?</h3>
        <p>Firebase's free tier covers the infrastructure for personal-scale apps. As long as aellium stays a passion project rather than a startup, the costs are negligible — and I'm happy to absorb them.</p>
        <h3>Will it ever cost money?</h3>
        <p>If aellium ever grows enough that costs become serious, I'll introduce an optional "support the builder" tier — but the core product will always stay free. That's a promise.</p>
      </div>
    `
  },
  faq: {
    icon: '❓',
    title: 'Frequently Asked Questions',
    body: `
      <h3>What is aellium?</h3>
      <p>aellium is a personal video library that lets you save videos from YouTube, Instagram, and X with deadlines so you actually watch them. No algorithm, no infinite scroll — just your curated list.</p>
      <h3>Is aellium free?</h3>
      <p>Yes, completely free. Sign in with Google and your library is saved automatically. No subscriptions, no hidden fees, no premium tier.</p>
      <h3>Which platforms are supported?</h3>
      <p>YouTube, Instagram Reels &amp; posts, and X (Twitter) video links. Just paste the URL and aellium handles the rest — auto-detecting the platform and pulling the thumbnail.</p>
      <h3>Does my data sync across devices?</h3>
      <p>Yes. Sign in with the same Google account on any device and your full library, playlists, and watch history are there instantly. Everything is stored securely in the cloud.</p>
    `
  },
  privacy: {
    icon: '🔒',
    title: 'Privacy Policy',
    body: `
      <h3>What data do we collect?</h3>
      <p>We collect only what's needed to make aellium work: your Google account name, email, and profile photo (via Google Sign-In), and the videos you save along with their deadlines and playlist assignments.</p>
      <h3>How is your data stored?</h3>
      <p>All data is stored securely in Google Firebase Firestore, a cloud database with industry-standard encryption at rest and in transit. We never sell or share your data with third parties.</p>
      <h3>Do we use analytics or tracking?</h3>
      <p>We use Firebase Analytics to understand how people use aellium in aggregate — things like which features are popular. No personally identifiable usage data is tracked or sold to advertisers.</p>
      <h3>Your rights</h3>
      <p>You can delete your account and all associated data at any time by contacting us at <a href="https://instagram.com/nikkk.exe" target="_blank">@nikkk.exe</a>. We'll permanently remove everything within 48 hours.</p>
    `
  },
  terms: {
    icon: '📄',
    title: 'Terms of Use',
    body: `
      <h3>Acceptable use</h3>
      <p>aellium is for personal, non-commercial use. You may save links to publicly available videos. Do not use aellium to infringe on copyright or to store links to illegal content.</p>
      <h3>Your content</h3>
      <p>You retain ownership of any data you add to aellium. We don't claim rights over your library, playlists, or notes. By using aellium, you grant us permission to store and display this data to you.</p>
      <h3>Service availability</h3>
      <p>aellium is provided as-is. We make no guarantees of uptime or availability. We may update, change, or discontinue features at any time, though we'll always try to give advance notice for major changes.</p>
      <h3>Contact</h3>
      <p>For questions about these terms, reach out at <a href="https://instagram.com/nikkk.exe" target="_blank">@nikkk.exe on Instagram</a>.</p>
    `
  },
  cookie: {
    icon: '🍪',
    title: 'Cookie Policy',
    body: `
      <h3>What cookies do we use?</h3>
      <p>aellium uses only essential cookies required for authentication. When you sign in with Google, Firebase sets a session cookie to keep you logged in across page visits. No tracking or advertising cookies are used.</p>
      <h3>Third-party cookies</h3>
      <p>Google Sign-In may set its own cookies governed by Google's privacy policy. We don't control these but they are limited to authentication purposes only.</p>
      <h3>Local storage</h3>
      <p>aellium uses your browser's local storage to save UI preferences like dark/light mode so your settings persist between sessions. This data never leaves your device.</p>
      <h3>Managing cookies</h3>
      <p>You can clear cookies and local storage at any time through your browser settings. Note that clearing them will sign you out and reset your preferences.</p>
    `
  },
  contact: {
    icon: '✉️',
    title: 'Contact',
    body: `
      <h3>Built by Nikshep Doggalli</h3>
      <p>aellium is an indie project. If you have feedback, bug reports, feature requests, or just want to say hi — I'd genuinely love to hear from you.</p>
      <h3>Instagram</h3>
      <p>The fastest way to reach me: <a href="https://instagram.com/nikkk.exe" target="_blank">@nikkk.exe</a> on Instagram. DMs are open.</p>
      <h3>Portfolio</h3>
      <p>See what else I'm building at <a href="https://nikshep.vercel.app" target="_blank">nikshep.vercel.app</a>. I ship tools for intentional people.</p>
      <h3>Response time</h3>
      <p>I usually respond within 24–48 hours. For urgent issues, Instagram is your best bet. I read every message.</p>
    `
  },
  hiw: {
    icon: '🚀',
    title: 'How aellium works',
    body: `
      <h3>Step 1 — Sign in with Google</h3>
      <p>One click, no passwords. Your Google account creates your aellium library instantly and syncs everything to the cloud so you can access it from any device.</p>
      <h3>Step 2 — Paste a video link</h3>
      <p>Hit "+ Add Video" and drop any YouTube, Instagram Reel, or X video URL. aellium auto-detects the platform, fetches the thumbnail, and saves it to your library in seconds.</p>
      <h3>Step 3 — Set a deadline</h3>
      <p>Pick a date you actually intend to watch it by. Videos turn orange as the deadline approaches and red when overdue. The color-coding keeps you honest.</p>
      <h3>Step 4 — Track &amp; improve</h3>
      <p>Your analytics dashboard shows completion rates, a punctuality score, and watch trends over time. Use it to understand your habits and actually get better at them.</p>
    `
  }
};

function openInfoModal(key) {
  const d = INFO_CONTENT[key];
  if (!d) return;
  document.getElementById('info-modal-icon').textContent = d.icon;
  document.getElementById('info-modal-title').textContent = d.title;
  document.getElementById('info-modal-body').innerHTML = d.body;
  document.getElementById('info-modal-ov').classList.add('active');
}
function closeInfoModal() {
  document.getElementById('info-modal-ov').classList.remove('active');
}

/* ══════════════════════════════════════════
   DOGGO GUIDE
══════════════════════════════════════════ */
const DOGGO_STEPS = [
  {
    step: 'Step 1 of 3',
    msg: '🐾 Woof! Sign in with Google to save your library and sync across devices!',
    cta: 'Sign in with Google',
    action: 'signin'
  },
  {
    step: 'Step 2 of 3',
    msg: '📹 Click the <strong>+ Add Video</strong> button in the top-right and paste any YouTube, Instagram or X link!',
    cta: 'Got it!',
    action: 'next'
  },
  {
    step: 'Step 3 of 3',
    msg: '📋 Hit <strong>📋 Playlists</strong> in the nav, then <strong>+ New Playlist</strong> to group and share your videos!',
    cta: "Let's go! 🚀",
    action: 'done'
  }
];
let doggoIdx = 0;
let doggoBubbleVisible = true;

function showDoggo() {
  doggoIdx = 0;
  doggoRender();
  document.getElementById('doggo-wrap').classList.add('show');
}
function hideDoggo() {
  document.getElementById('doggo-wrap').classList.remove('show');
}
function doggoToggleBubble() {
  doggoBubbleVisible = !doggoBubbleVisible;
  document.getElementById('doggo-bubble').style.display = doggoBubbleVisible ? 'block' : 'none';
}
function doggoRender() {
  const s = DOGGO_STEPS[doggoIdx];
  document.getElementById('doggo-step').textContent = s.step;
  document.getElementById('doggo-msg').innerHTML = s.msg;
  document.getElementById('doggo-cta').textContent = s.cta;
  // Re-trigger bubble pop animation
  const b = document.getElementById('doggo-bubble');
  b.style.animation = 'none';
  b.offsetHeight; // reflow
  b.style.animation = '';
}
function doggoCTA() {
  const s = DOGGO_STEPS[doggoIdx];
  if (s.action === 'signin') { signInWithGoogle(); }
  else if (s.action === 'next') { doggoNext(); }
  else if (s.action === 'done') { hideDoggo(); showToast("You're all set! Happy watching 🐾"); }
}
function doggoNext() {
  if (doggoIdx < DOGGO_STEPS.length - 1) {
    doggoIdx++;
    doggoRender();
  } else {
    hideDoggo();
  }
}


/* ══════════════════════════════════════════
   RESET DEMO DATA
══════════════════════════════════════════ */
function resetDemoData(){
  if(!confirm('Reset to demo data? This will replace your current library with 5 sample videos.')) return;
  videos = [
    {id:'demo1',url:'https://www.youtube.com/watch?v=dQw4w9WgXcQ',title:'Rick Astley — Never Gonna Give You Up',platform:'youtube',thumb:'https://img.youtube.com/vi/dQw4w9WgXcQ/hqdefault.jpg',deadline:new Date(Date.now()+14*864e5).toISOString().split('T')[0],done:false,playlist:'',added:Date.now()-2*864e5,dur:'3:33',note:''},
    {id:'demo2',url:'https://www.youtube.com/watch?v=9bZkp7q19f0',title:'PSY — Gangnam Style',platform:'youtube',thumb:'https://img.youtube.com/vi/9bZkp7q19f0/hqdefault.jpg',deadline:new Date(Date.now()+2*864e5).toISOString().split('T')[0],done:false,playlist:'',added:Date.now()-5*864e5,dur:'4:13',note:''},
    {id:'demo3',url:'https://www.youtube.com/watch?v=JGwWNGJdvx8',title:'Ed Sheeran — Shape of You',platform:'youtube',thumb:'https://img.youtube.com/vi/JGwWNGJdvx8/hqdefault.jpg',deadline:new Date(Date.now()-1*864e5).toISOString().split('T')[0],done:false,playlist:'',added:Date.now()-8*864e5,dur:'3:54',note:'Overdue!'},
    {id:'demo4',url:'https://www.youtube.com/watch?v=CevxZvSJLk8',title:'Katy Perry — Roar',platform:'youtube',thumb:'https://img.youtube.com/vi/CevxZvSJLk8/hqdefault.jpg',deadline:new Date(Date.now()+7*864e5).toISOString().split('T')[0],done:true,playlist:'',added:Date.now()-10*864e5,dur:'4:34',note:''},
    {id:'demo5',url:'https://www.youtube.com/watch?v=OPf0YbXqDm0',title:'Mark Ronson ft. Bruno Mars — Uptown Funk',platform:'youtube',thumb:'https://img.youtube.com/vi/OPf0YbXqDm0/hqdefault.jpg',deadline:new Date(Date.now()+5*864e5).toISOString().split('T')[0],done:false,playlist:'',added:Date.now()-864e5,dur:'4:30',note:''}
  ];
  // Save to Firestore if logged in
  if(typeof window._fbUser !== 'undefined' && window._fbUser) {
    // Fire-and-forget save
    try {
      const {getFirestore,doc,setDoc} = window._fbModules || {};
      if(setDoc) {
        const db = getFirestore();
        setDoc(doc(db,'users',window._fbUser.uid),{videos:JSON.stringify(videos)},{merge:true}).catch(()=>{});
      }
    } catch(e){}
  }
  render();
  showToast('Demo data restored — 5 sample videos loaded! 🎬');
}

function toggleLPBento(){document.getElementById('lp-bento-ov').classList.toggle('active');}
function closeLPBento(){document.getElementById('lp-bento-ov').classList.remove('active');}

// ── Landing gradient parallax on scroll ── (removed, pitch black bg)
</script>
<!-- AUTH OVERLAY -->
<div id="auth-overlay">
  <div class="auth-spinner"></div>
  <div class="auth-msg">Signing you in…</div>
</div>


<!-- DOGGO GUIDE -->
<div id="doggo-wrap">
  <div class="doggo-bubble" id="doggo-bubble">
    <div class="doggo-step" id="doggo-step">Step 1 of 3</div>
    <div id="doggo-msg">Sign in with Google to save your library and sync across devices.</div>
    <div class="doggo-action">
      <button class="doggo-btn primary" id="doggo-cta" onclick="doggoCTA()">Sign in with Google</button>
      <button class="doggo-btn skip" onclick="doggoNext()">Skip</button>
    </div>
  </div>
  <!-- Pixelated shiba inu SVG -->
  <svg class="doggo-sprite" id="doggo-sprite" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" onclick="doggoToggleBubble()">
    <!-- body -->
    <rect x="3" y="7" width="10" height="7" fill="#e8a855"/>
    <!-- head -->
    <rect x="4" y="2" width="8" height="7" fill="#e8a855"/>
    <!-- ears -->
    <rect x="3" y="1" width="3" height="3" fill="#e8a855"/>
    <rect x="10" y="1" width="3" height="3" fill="#e8a855"/>
    <rect x="4" y="2" width="2" height="2" fill="#d4854a"/>
    <rect x="10" y="2" width="2" height="2" fill="#d4854a"/>
    <!-- face white -->
    <rect x="5" y="5" width="6" height="3" fill="#f5ddb4"/>
    <!-- eyes -->
    <rect x="5" y="4" width="2" height="2" fill="#2d1a0e"/>
    <rect x="9" y="4" width="2" height="2" fill="#2d1a0e"/>
    <!-- eye shine -->
    <rect x="6" y="4" width="1" height="1" fill="#fff"/>
    <rect x="10" y="4" width="1" height="1" fill="#fff"/>
    <!-- nose -->
    <rect x="7" y="6" width="2" height="1" fill="#2d1a0e"/>
    <!-- mouth -->
    <rect x="6" y="7" width="1" height="1" fill="#2d1a0e"/>
    <rect x="9" y="7" width="1" height="1" fill="#2d1a0e"/>
    <!-- tongue -->
    <rect x="7" y="7" width="2" height="1" fill="#e05c7a"/>
    <!-- legs -->
    <rect x="3" y="13" width="3" height="3" fill="#d4854a"/>
    <rect x="10" y="13" width="3" height="3" fill="#d4854a"/>
    <!-- tail -->
    <rect x="13" y="8" width="2" height="2" fill="#e8a855"/>
    <rect x="14" y="7" width="1" height="2" fill="#e8a855"/>
    <!-- belly -->
    <rect x="5" y="9" width="6" height="3" fill="#f5ddb4"/>
  </svg>
</div>


<!-- ── INFO MODAL (FAQ, Privacy, etc) ── -->
<div class="info-modal-ov" id="info-modal-ov" onclick="closeInfoModal()">
  <div class="info-modal" onclick="event.stopPropagation()">
    <button class="info-modal-close" onclick="closeInfoModal()">✕</button>
    <div class="info-modal-icon" id="info-modal-icon"></div>
    <div class="info-modal-title" id="info-modal-title"></div>
    <div class="info-modal-body" id="info-modal-body"></div>
  </div>
</div>

<!-- FIREBASE AUTH -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
  import { getFirestore, doc, setDoc, getDoc, collection, addDoc, query, orderBy, onSnapshot } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBuPTw6WpRTWSDhs_L_W9OELFP6ff6Ki0c",
    authDomain: "copiumai-9f5b6.firebaseapp.com",
    projectId: "copiumai-9f5b6",
    storageBucket: "copiumai-9f5b6.firebasestorage.app",
    messagingSenderId: "164793994267",
    appId: "1:164793994267:web:f9d3594cca736c7fa67cbe",
    measurementId: "G-6D61YLK3TN"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);
  const provider = new GoogleAuthProvider();

  // Expose to global scope for onclick handlers
  window.signInWithGoogle = async () => {
    try {
      document.getElementById('auth-overlay').classList.add('show');
      const result = await signInWithPopup(auth, provider);
      // onAuthStateChanged handles the rest
    } catch(err) {
      document.getElementById('auth-overlay').classList.remove('show');
      console.error('Sign-in error:', err);
      if(err.code !== 'auth/popup-closed-by-user') {
        alert('Sign-in failed: ' + err.message);
      }
    }
  };

  window.signOutUser = async () => {
    if(!confirm('Sign out of aellium?')) return;
    await signOut(auth);
    document.getElementById('pg-app').classList.remove('active');
    document.getElementById('pg-landing').classList.add('active');
  };

  onAuthStateChanged(auth, (user) => {
    document.getElementById('auth-overlay').classList.remove('show');
    if(user) {
      // Update avatar in app header
      const img = document.getElementById('user-avatar-img');
      const fallback = document.getElementById('user-avatar-fallback');
      if(user.photoURL) {
        img.src = user.photoURL;
        img.style.display = 'block';
        fallback.style.display = 'none';
      } else {
        fallback.textContent = (user.displayName || user.email || '?')[0].toUpperCase();
        fallback.style.display = 'flex';
        img.style.display = 'none';
      }
      // Update hero tagline with real name
      const tagline = document.querySelector('.lp-tagline strong');
      if(tagline) tagline.textContent = user.displayName ? user.displayName.split(' ')[0] : 'there';
      // Sync LP theme toggle
      const lpBtn=document.getElementById('lp-theme-btn');
      if(lpBtn){const isDk=document.documentElement.getAttribute('data-theme')==='dark';lpBtn.textContent=isDk?'🌙':'☀️';}
      // Enter app
      window.openApp();
      // Show doggo guide after a moment
      setTimeout(()=>{ if(typeof showDoggo==='function') showDoggo(); }, 800);
    }
  });
</script>

</body>
</html>
